(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{1010:function(t,e){var i=Array.prototype.join;t.exports=function(t,e){return null==t?"":i.call(t,e)}},1011:function(t,e){t.exports=function(t){for(var e=-1,i=null==t?0:t.length,o=0,n=[];++e<i;){var r=t[e];r&&(n[o++]=r)}return n}},1012:function(t,e){var i=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&i.call(t,e)}},1023:function(t,e,i){var o=i(535)((function(t,e,i){return t+(i?" ":"")+e.toLowerCase()}));t.exports=o},1033:function(t,e,i){},1039:function(t,e,i){},1040:function(t,e,i){var o=i(1012),n=i(536);t.exports=function(t,e){return null!=t&&n(t,e,o)}},1041:function(t,e,i){var o=i(164),n=i(309),r=i(97);t.exports=function(t,e){var i={};return e=r(e,3),n(t,(function(t,n,r){o(i,e(t,n,r),t)})),i}},1121:function(t,e,i){var o=i(164),n=i(540),r=Object.prototype.hasOwnProperty,a=n((function(t,e,i){r.call(t,i)?t[i].push(e):o(t,i,[e])}));t.exports=a},1127:function(t,e,i){"use strict";var o=i(1033);i.n(o).a},1131:function(t,e,i){"use strict";var o=i(1010),n=i.n(o),r=i(1011),a=i.n(r),s=i(1023),l=i.n(s),c=i(37),d=i(114),u=i(1132),f={name:"car",mixins:[c.a],props:{showMinCreditAmount:{type:Boolean,default:!0},detailUrl:{type:Object,default:function(){return{}}},car:{type:Object,default:function(){return{}}},isSlide:{type:Boolean,default:!1},isMaxBenefit:{type:Boolean,default:function(){return!1}},loadedButtonFavorites:{type:Boolean,default:!1},isFavorite:{type:Boolean,default:!1},isSendingFavorite:{type:Boolean,default:!1},showButtonFavorites:{type:Boolean,default:!1},isActive:{type:Boolean,default:!0}},computed:{description:function(){if(!(this.car.engine_volume||this.car.engine_power_hp||this.car.fuel_type_name||this.car.gearbox_name||this.car.drive_name))return null;var t=[this.car.engine_volume?"".concat(this.car.engine_volume," л"):null,this.car.engine_power_hp?"".concat(this.car.engine_power_hp," л.c."):null,l()(this.car.fuel_type_name),l()(this.car.gearbox_name),this.car.drive_name?l()("".concat(this.car.drive_name," привод")):null];return n()(a()(t)," / ")}},methods:{openPopup:function(){this.$emit("favorite-click",this.car,this.isFavorite)},toDetail:function(){this.$emit("click-on-card"),this.$router.push(this.detailUrl)}},components:{CarLocation:u.a,IconPin:d.a}},p=(i(1137),i(2)),h=Object(p.a)(f,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["catalog-element",{"swiper-slide":t.isSlide}]},[i("div",{staticClass:"catalog-element__image"},[t.isActive?i("div",{staticClass:"cursor-pointer",on:{click:t.toDetail}},[i("figure",[t._t("image-labels"),t._v(" "),t._t("image")],2)]):i("div",[i("figure",[t._t("image-labels"),t._v(" "),t._t("image")],2)])]),t._v(" "),i("div",{staticClass:"catalog-element__descr"},[i("div",{staticClass:"catalog-element__descr-header"},[i("h3",{staticClass:"flex"},[t.isActive?i("div",{staticClass:"mr-1 cursor-pointer",on:{click:t.toDetail}},[t._t("name")],2):i("div",[t._t("name")],2),t._v(" "),t._t("name-labels")],2),t._v(" "),t.showButtonFavorites?i("div",{staticClass:"catalog-element__descr-header-actions"},[i("g-button-favorites",{attrs:{"is-active":t.loadedButtonFavorites,"is-favorite":t.isFavorite,"is-loading":t.isSendingFavorite},on:{click:t.openPopup}})],1):t._e()]),t._v(" "),t._t("kia-sure"),t._v(" "),t._t("lable"),t._v(" "),i("div",{staticClass:"catalog-element__params text-s3 desktop:text-s2i color-dark-gray"},[t.description&&t.isActive?i("div",[t._v(t._s(t.description))]):t._e(),t._v(" "),t._t("description")],2),t._v(" "),t.isActive?i("div",{staticClass:"catalog-element__price catalog-element__price-used text-s3 desktop:text-s2i color-disabled-gray"},[t.car.price&&t.isActive?i("strong",{staticClass:"text-s1 color-black"},[t._v(t._s(t.formatMoney(t.car.price)))]):t._e(),t._v(" "),t.car.min_credit_amount&&t.showMinCreditAmount&&t.isActive?i("span",[t._v(t._s(t.formatMoney(t.car.min_credit_amount,"₽/мес")))]):t._e()]):t._e(),t._v(" "),i("CarLocation",{staticClass:"mt-2",attrs:{"city-name":t.car.city_name,"is-active":t.isActive}},[i("template",{slot:"location"},[t._t("location")],2)],2),t._v(" "),t.isMaxBenefit&&t.isActive?i("div",{staticClass:"catalog-element__sticker text-s2i"},[t._t("max_benefit")],2):t._e(),t._v(" "),i("div",{staticClass:"catalog-element__options"},[t._t("options")],2),t._v(" "),t._t("delete")],2)])}),[],!1,null,null,null);e.a=h.exports},1132:function(t,e,i){"use strict";var o={name:"car-location",components:{IconPin:i(114).a},props:{isActive:{type:Boolean,default:!0},cityName:{type:String,default:null}}},n=(i(1127),i(2)),r=Object(n.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return this.cityName&&this.isActive?e("div",{staticClass:"counter text-s3 desktop:text-s2 flex items-start"},[e("icon-pin",{staticClass:"counter__pin"}),this._v(" "),e("span",{staticClass:"counter__text"},[this._t("location")],2)],1):this._e()}),[],!1,null,"75444ef2",null);e.a=r.exports},1137:function(t,e,i){"use strict";var o=i(1039);i.n(o).a},1163:function(t,e,i){},1209:function(t,e,i){var o=i(383);t.exports=function(t){return(null==t?0:t.length)?o(t,1):[]}},1212:function(t,e,i){},1214:function(t,e,i){},1215:function(t,e,i){},1288:function(t,e,i){var o=i(397),n=i(385),r=i(314),a=i(65),s=i(176);t.exports=function(t,e,i,l){if(!a(t))return t;for(var c=-1,d=(e=n(e,t)).length,u=d-1,f=t;null!=f&&++c<d;){var p=s(e[c]),h=i;if(c!=u){var m=f[p];void 0===(h=l?l(m,p,f):void 0)&&(h=a(m)?m:r(e[c+1])?[]:{})}o(f,p,h),f=f[p]}return t}},1289:function(t,e,i){var o=i(1209),n=i(544),r=i(545);t.exports=function(t){return r(n(t,void 0,o),t+"")}},1316:function(t,e,i){var o=i(394),n=i(1288),r=i(385);t.exports=function(t,e,i){for(var a=-1,s=e.length,l={};++a<s;){var c=e[a],d=o(t,c);i(d,c)&&n(l,r(c,t),d)}return l}},1321:function(t,e,i){},1361:function(t,e,i){"use strict";var o=i(1163);i.n(o).a},1362:function(t,e,i){var o=i(1363),n=i(1289)((function(t,e){return null==t?{}:o(t,e)}));t.exports=n},1363:function(t,e,i){var o=i(1316),n=i(552);t.exports=function(t,e){return o(t,e,(function(e,i){return n(t,i)}))}},1372:function(t,e,i){"use strict";var o={name:"catalog-footer",props:{meta:{type:Object,default:function(){return{}}},isFull:{type:Boolean,default:!1},isLast:{type:Boolean,default:!1}},computed:{isShowMore:function(){return this.meta.current_page<this.meta.last_page}}},n=(i(1361),i(2)),r=Object(n.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isShowMore?i("div",{class:["catalog__section-footer",{"catalog__section-footer_full":t.isFull},{"catalog__section-footer_last":t.isLast}]},[i("button",{staticClass:"catalog__section-footer-button button button_secondary",on:{click:function(e){return e.preventDefault(),t.$emit("show-more",t.meta.current_page+1)}}},[i("span",{staticClass:"button__span-after"},[t._v("\n      Показать еще\n    ")])])]):t._e()}),[],!1,null,"8f397b54",null);e.a=r.exports},1421:function(t,e,i){"use strict";var o=i(1212);i.n(o).a},1424:function(t,e,i){var o=i(164),n=i(309),r=i(97);t.exports=function(t,e){var i={};return e=r(e,3),n(t,(function(t,n,r){o(i,n,e(t,n,r))})),i}},1425:function(t,e,i){"use strict";var o=i(1214);i.n(o).a},1426:function(t,e,i){"use strict";var o=i(1215);i.n(o).a},1437:function(t,e,i){},1438:function(t,e,i){},1439:function(t,e,i){},1440:function(t,e,i){},1466:function(t,e,i){"use strict";i(77);var o=i(1362),n=i.n(o),r=(i(17),i(13),i(8),i(7),i(3),i(6),i(9),i(5),i(10),["class","staticClass","style","staticStyle","attrs"]);function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function l(t,e){if(null==t)return{};var i,o,n=function(t,e){if(null==t)return{};var i,o,n={},r=Object.keys(t);for(o=0;o<r.length;o++)i=r[o],e.indexOf(i)>=0||(n[i]=t[i]);return n}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)i=r[o],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}var c={functional:!0,render:function(t,e){var i=e._c,o=(e._v,e.data),n=e.children,c=void 0===n?[]:n,d=o.class,u=o.staticClass,f=o.style,p=o.staticStyle,h=o.attrs,m=void 0===h?{}:h,g=l(o,r);return i("svg",function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({class:[d,u],style:[f,p],attrs:Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},m)},g),c.concat([i("path",{attrs:{d:"M0 0h4v4H0zM6 0h14v4H6zM0 8h4v4H0zM6 8h14v4H6zM0 16h4v4H0zM6 16h14v4H6z"}})]))}},d=["class","staticClass","style","staticStyle","attrs"];function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function f(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function p(t,e){if(null==t)return{};var i,o,n=function(t,e){if(null==t)return{};var i,o,n={},r=Object.keys(t);for(o=0;o<r.length;o++)i=r[o],e.indexOf(i)>=0||(n[i]=t[i]);return n}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)i=r[o],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}var h={functional:!0,render:function(t,e){var i=e._c,o=(e._v,e.data),n=e.children,r=void 0===n?[]:n,a=o.class,s=o.staticClass,l=o.style,c=o.staticStyle,h=o.attrs,m=void 0===h?{}:h,g=p(o,d);return i("svg",function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){f(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({class:[a,s],style:[l,c],attrs:Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},m)},g),r.concat([i("path",{attrs:{d:"M0 0h9v9H0zM11 0h9v9h-9zM0 11h9v9H0zM11 11h9v9h-9z"}})]))}},m=i(404),g=i(55),v=i.n(g),_=i(24),b={mixins:[_.a],props:{sort:{type:Object,default:function(){return{sort:"price",order:"asc"}}},items:{type:Array,default:function(){return[]}},isCarLocator:{type:Boolean,default:!1}},data:function(){return{current:!1,optionsSort:0!==this.items.length?this.items:[{id:1,name:"Цена по возрастанию",sort:"price",order:"asc"},{id:2,name:"Цена по убыванию",sort:"price",order:"desc"}],isSortMultiselectOpened:!1,isAnalyticSended:!1}},computed:{defaultSort:function(){var t=this;return v()(this.optionsSort,(function(e){return e.sort===t.sort.sort&&e.order===t.sort.order}))||this.optionsSort[0]},currentSort:function(){return this.current?this.current:this.defaultSort}},methods:{sortDataLayer:function(){this.isSortMultiselectOpened=!this.isSortMultiselectOpened,this.isSortMultiselectOpened&&this.isCarLocator&&!this.isAnalyticSended&&(this.dataLayerPush("Car locator","Model catalog","Open sorting options"),this.isAnalyticSended=!0)},changeSort:function(t){this.isSortMultiselectOpened=!1,this.current={sort:t.sort,order:t.order,recommended:t.recommended},this.$emit("toggle-sort",this.current)},openSelect:function(){this.$emit("open-select")}}},y=i(2),S=Object(y.a)(b,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"catalog__section__actions__sort"},[i("g-select",{staticClass:"multiselect_small multiselect_sort",attrs:{options:t.optionsSort,selected:t.defaultSort,placeholder:"","select-function":"select-sort"},on:{"select-sort":function(e){return t.changeSort(e)},"open-select":t.openSelect},nativeOn:{click:function(e){return t.sortDataLayer(e)}}})],1)}),[],!1,null,null,null).exports,C={mixins:[_.a],name:"catalog-header",props:{mode:{type:String,default:"table"},fullSize:{type:Boolean,default:!1},meta:{type:Object,default:function(){return{}}},hasFilter:{type:Boolean,default:!1},sortItems:{type:Array,default:function(){return[]}},withPadding:{type:Boolean,default:!1},hasBookingToggle:{type:Boolean,default:!1},defaultSort:{type:Object,default:function(){return{}}},showHasBookingToggler:{type:Boolean,default:!1}},data:function(){return{isCatalogSectionScroll:!1,isCatalogSectionFilterFixed:!1,isCatalogSectionFilterInvisible:!1,isSortAscSended:!1,isSortDescSended:!1}},mounted:function(){window.addEventListener("load",this.handleScrollCatalogSection),window.addEventListener("resize",this.handleScrollCatalogSection),window.addEventListener("scroll",this.handleScrollCatalogSection)},beforeDestroy:function(){window.removeEventListener("load",this.handleScrollCatalogSection),window.removeEventListener("resize",this.handleScrollCatalogSection),window.removeEventListener("scroll",this.handleScrollCatalogSection)},methods:{getCurrentSort:function(){return n()(this.$refs.sort.currentSort,["sort","order","recommended"])},toggleSort:function(t){this.$emit("toggle-sort",t),0!==t.recommended||"asc"!==t.order||this.isSortAscSended?0!==t.recommended||"desc"!==t.order||this.isSortDescSended||(this.dataLayerPush("Car locator","Model catalog","Selected sort by price descending"),this.isSortDescSended=!0):(this.dataLayerPush("Car locator","Model catalog","Selected sort by price ascending"),this.isSortAscSended=!0)},openSelect:function(){this.$emit("open-select")},toggleConfigFilter:function(){document.body.classList.add("is-config-filter-toggling"),setTimeout((function(){document.body.classList.remove("is-config-filter-toggling"),window.dispatchEvent(new Event("resize"))}),300),document.body.classList.toggle("is-config-filter-opened"),document.getElementById("has-config-filter").classList.toggle("is-config-filter-opened")},handleScrollCatalogSection:function(){var t=window.scrollY,e=window.innerHeight,i=document.getElementsByClassName("page-wrapper__footer")[0].offsetTop,o=document.getElementsByClassName("catalog__wrap")[0],n=void 0!==o?o.offsetTop:this.$refs.catalogSectionHeader.offsetTop+100;this.isCatalogSectionFilterFixed=t>n,this.isCatalogSectionScroll=t+e>i,this.isCatalogSectionFilterInvisible=!!this.isCatalogSectionScroll}},components:{Sort:S,IconList:c,IconTiles:h,IconFilter:m.a}},x=(i(1421),Object(y.a)(C,(function(){var t,e=this,i=e.$createElement,o=e._self._c||i;return o("div",{ref:"catalogSectionHeader",class:["catalog__section__header items-center justify-between tablet:flex tablet:flex-wrap desktop1440",{catalog__section__header_empty:!e.meta.total},{"catalog__section__header_empty-no-pt":!e.meta.total&&e.hasFilter}]},[o("div",{staticClass:"catalog__section__controls catalog__section-item tablet:mb-5 desktop:mb-0 flex flex-wrap items-center justify-between"},[o("div",{class:["catalog__section__controls__filter",(t={},t.catalog__section__controls__filter_fixed=e.isCatalogSectionFilterFixed,t.catalog__section__controls__filter_invisible=e.isCatalogSectionFilterInvisible,t.catalog__section__controls__filter_full=e.fullSize&&!e.isCatalogSectionFilterFixed,t.catalog__section__controls__filter_fixed__padding=e.isCatalogSectionFilterFixed&&e.withPadding,t)]},[o("a",{staticClass:"catalog__section-filter flex items-center justify-center",attrs:{href:"javascript:"},on:{click:e.toggleConfigFilter}},[o("span",{staticClass:"catalog__section-link"},[o("icon-filter"),e._v(" "),o("span",[e._v("Фильтры")])],1)])]),e._v(" "),e.fullSize?e._e():o("div",{staticClass:"hidden tablet:block"},[e._t("total")],2),e._v(" "),e._t("download")],2),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.meta.total,expression:"meta.total"}],class:["catalog__section__actions catalog__section-item items-center tablet:flex",{"catalog__section__actions-no-mt":e.fullSize}]},[o("sort",{ref:"sort",attrs:{items:e.sortItems,sort:e.defaultSort,isCarLocator:!0},on:{"toggle-sort":e.toggleSort,"open-select":e.openSelect}}),e._v(" "),e.fullSize?e._e():o("div",{staticClass:"tablet:hidden mt-4"},[e._t("total")],2),e._v(" "),o("nav",{staticClass:"catalog__section__actions__view"},[o("ul",{staticClass:"flex items-center"},[o("li",[o("icon-list",{class:{active:"list"===e.mode},on:{click:function(t){return e.$emit("toggle-mode","list")}}})],1),e._v(" "),o("li",[o("icon-tiles",{class:{active:"table"===e.mode},on:{click:function(t){return e.$emit("toggle-mode","table")}}})],1)])])],1),e._v(" "),e.showHasBookingToggler?o("div",{class:["catalog__checkbox",{"catalog__checkbox_no-border":e.fullSize}]},[o("g-checkbox",{attrs:{value:e.hasBookingToggle,name:"online-prepayment",id:"online-prepayment",label:"Онлайн-бронирование","is-switch":!0},on:{input:function(t){return e.$emit("toggle-has-booking-filter",t)}}})],1):e._e()])}),[],!1,null,"69bb282c",null));e.a=x.exports},1473:function(t,e,i){"use strict";i(36),i(6),i(108),i(27),i(43),i(46);var o=i(72),n=i.n(o),r=i(37),a=i(125),s=i.n(a),l=(i(320),i(321),{name:"filter-range",mixins:[r.a],props:{title:String,min:Number,max:Number,values:Array},data:function(){return{value:this.values,formattedValue:this.values,options:{dotSize:20,tooltip:"none"}}},created:function(){this.emitInput=n()(this.emitChange,3e3),this.emitChange=n()(this.emitChange,500)},methods:{onChange:function(){var t=[this.toNumber(this.formattedValue[0]),this.toNumber(this.formattedValue[1])];t[0]<this.min||t[0]>this.max?this.value[0]=this.min:this.value[0]=t[0],t[1]>this.max||t[1]<this.min?this.value[1]=this.max:this.value[1]=t[1],this.emitInput()},emitChange:function(){this.$emit("change",this.value)},clearPrice:function(){this.value=this.values},toNumber:function(t){return"string"==typeof t?parseInt(t.replace(/ /g,"")):t},toFormattedNumber:function(t){return this.formatNumber(t," "," ")}},watch:{values:function(){this.clearPrice()},value:function(){this.formattedValue[0]=this.toFormattedNumber(this.value[0]),this.formattedValue[1]=this.toFormattedNumber(this.value[1])}},components:{VueSlider:s.a}}),c=(i(1425),i(2)),d=Object(c.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.min!==t.max?i("fieldset",[i("div",{staticClass:"config-filter__fields__title flex items-center"},[t._v(t._s(t.title))]),t._v(" "),i("div",{staticClass:"config-filter__fields__body"},[i("div",{staticClass:"range-slider"},[i("vue-slider",t._b({attrs:{min:t.min,max:t.max},on:{change:t.emitChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},"vue-slider",t.options,!1)),t._v(" "),i("ul",{staticClass:"flex"},[i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.formattedValue[0],expression:"formattedValue[0]"}],attrs:{min:t.min},domProps:{value:t.formattedValue[0]},on:{input:[function(e){e.target.composing||t.$set(t.formattedValue,0,e.target.value)},t.onChange]}})]),t._v(" "),i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.formattedValue[1],expression:"formattedValue[1]"}],attrs:{max:t.max},domProps:{value:t.formattedValue[1]},on:{input:[function(e){e.target.composing||t.$set(t.formattedValue,1,e.target.value)},t.onChange]}})])])],1)])]):t._e()}),[],!1,null,null,null);e.a=d.exports},1474:function(t,e,i){"use strict";var o={name:"filter-header",methods:{toggleConfigFilter:function(){document.body.classList.add("is-config-filter-toggling"),setTimeout((function(){document.body.classList.remove("is-config-filter-toggling"),window.dispatchEvent(new Event("resize"))}),300),document.body.classList.toggle("is-config-filter-opened"),document.getElementById("has-config-filter").classList.toggle("is-config-filter-opened")}},components:{IconClose:i(112).a}},n=i(2),r=Object(n.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"config-filter__header flex items-center justify-center"},[i("icon-close",{staticClass:"cursor-pointer",on:{click:t.toggleConfigFilter}}),t._v(" "),i("strong",{staticClass:"text-s1"},[t._v("Фильтры")]),t._v(" "),i("button",{on:{click:function(e){return t.$emit("clear-filter")}}},[t._v("Сбросить")])],1)}),[],!1,null,"2d9c2b95",null);e.a=r.exports},1475:function(t,e,i){"use strict";i(27),i(43);var o=i(405),n={name:"filter-footer",props:{meta:{type:Object,default:function(){return{}}},text:{type:String,default:"Показать #total#"},showRefresh:{type:Boolean,default:!1},withPadding:{type:Boolean,default:!1}},computed:{buttonTitle:function(){return this.text.replace("#total#",this.meta.total)}},methods:{toggleConfigFilter:function(){document.body.classList.add("is-config-filter-toggling"),setTimeout((function(){document.body.classList.remove("is-config-filter-toggling"),window.dispatchEvent(new Event("resize"))}),300),document.body.classList.toggle("is-config-filter-opened"),document.getElementById("has-config-filter").classList.toggle("is-config-filter-opened")}},components:{IconRefresh:o.a}},r=(i(1426),i(2)),a=Object(r.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["config-filter__footer",{"config-filter__footer__padding flex flex-wrap items-center justify-between":t.withPadding}]},[i("button",{on:{click:t.toggleConfigFilter}},[t._v(t._s(t.buttonTitle))]),t._v(" "),t.showRefresh?i("div",{staticClass:"config-filter__footer__reset hidden"},[i("button",{on:{click:function(e){return t.$emit("clear-filter")}}},[i("icon-refresh",{staticClass:"mr-2"}),t._v("\n      Очистить фильтр\n    ")],1)]):t._e()])}),[],!1,null,"213ce506",null);e.a=a.exports},1476:function(t,e,i){"use strict";i(38);var o=i(55),n=i.n(o),r=i(14),a=i.n(r),s={name:"filter-select",props:{title:String,placeholder:String,hasSingle:{type:Boolean,default:!1},fieldsetClasses:{type:Array,default:function(){return[]}},bodyClasses:{type:Array,default:function(){return["config-filter__fields__body"]}},selectClasses:{type:Array,default:function(){return["multiselect_small","mt-2"]}},multiple:{type:Boolean,default:!1},selected:{type:Object,default:function(){return null}},options:{type:Array,default:function(){return[]}},value:[Array,Object],searchable:{type:Boolean,default:!0}},computed:{state:{get:function(){return this.value},set:function(t){a()(t)||this.$emit("input",t)}}},methods:{prepareOptions:function(t){var e=this;return this.multiple&&!a()(this.state)?t.map((function(t){return n()(e.state,{id:t.id})||t})):t}}},l=i(2),c=Object(l.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.hasSingle||t.options.length>1?i("fieldset",{class:t.fieldsetClasses},[i("div",{class:t.bodyClasses},[i("div",{staticClass:"config-filter__fields__title flex items-center"},[t._v(t._s(t.title))]),t._v(" "),i("g-select",{class:t.selectClasses,attrs:{placeholder:t.placeholder,searchable:t.searchable,"has-label":!1,multiple:t.multiple,options:t.prepareOptions(t.options),selected:t.selected||this.value},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}})],1)]):t._e()}),[],!1,null,"b9a5384c",null);e.a=c.exports},1477:function(t,e,i){"use strict";var o={name:"filter-checkbox",props:{id:String,title:String,hasSingle:{type:Boolean,default:!1},values:{type:Array,default:function(){return[]}},value:{type:Array,default:function(){return[]}}},computed:{state:{get:function(t){return t.value},set:function(t){return t}}},methods:{getValueId:function(t){return this.id?this.id+"_"+t:t}}},n=i(2),r=Object(n.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.hasSingle||t.values.length>1?i("fieldset",[t.title?i("div",{staticClass:"config-filter__fields__title flex items-center"},[t._v(t._s(t.title))]):t._e(),t._v(" "),i("div",{staticClass:"config-filter__fields__body"},[i("ul",t._l(t.values,(function(e){return i("li",{key:t.getValueId(e.id)},[i("g-checkbox",{attrs:{id:t.getValueId(e.id),val:e.id,label:e.name,disabled:e.disabled},on:{input:function(e){return t.$emit("input",e)}},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},[t._t("default")],2)],1)})),0)])]):t._e()}),[],!1,null,"628b1aa2",null);e.a=r.exports},1478:function(t,e,i){"use strict";var o={name:"filter-color-checkbox",mixins:[i(31).a],props:{id:String,title:String,hasLabel:{type:Boolean,default:!1},values:{type:Array,default:function(){return[]}},value:{type:Array,default:function(){return[]}}},computed:{state:{get:function(t){return t.value},set:function(t){return t}},listClasses:function(){return this.hasLabel?"":"config-filter__colors flex flex-row flex-wrap"}},methods:{prepareImage:function(t){return t?this.generateFilePath(t):void 0},checkboxInput:function(t){this.$emit("input",t)},getValueId:function(t){return this.id?this.id+"_"+t:t}}},n=i(2),r=Object(n.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.values.length>1?i("fieldset",[i("div",{staticClass:"config-filter__fields__title flex items-center"},[t._v(t._s(t.title))]),t._v(" "),i("div",{staticClass:"config-filter__fields__body"},[i("ul",{class:t.listClasses},t._l(t.values,(function(e){return i("li",{key:e.id},[i("g-checkbox",{attrs:{id:t.getValueId(e.id),val:e.id,label:e.name,"has-color":!0,"has-label":t.hasLabel,disabled:e.disabled,image:t.prepareImage(e.image),hex:e.hex},on:{input:t.checkboxInput},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}})],1)})),0)])]):t._e()}),[],!1,null,"3bfc7f91",null);e.a=r.exports},1503:function(t,e,i){"use strict";var o=i(1321);i.n(o).a},1523:function(t,e,i){"use strict";var o=i(1075),n={name:"cars-not-found",props:{isSmall:{type:Boolean,default:!0},showTitle:{type:Boolean,default:!1},items:{type:Array,default:function(){return[]}}},mounted:function(){this.$emit("mounted")},components:{ViewAlso:o.a}},r=i(2),a=Object(r.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"text-x5 tablet:text-x4 desktop1920:text-x3",attrs:{id:"sorry-cars-not-found"}},[this._v("\n    Нам очень жаль, автомобили не найдены.\n  ")]),this._v(" "),e("div",{staticClass:"text-s2i mt-4"},[this._v("\n    Обратитесь к официальному дилеру Kia и вас проконсультируют о наличии.\n  ")]),this._v(" "),e("ViewAlso",{attrs:{"is-small":this.isSmall,"show-title":this.showTitle,items:this.items}})],1)}),[],!1,null,null,null);e.a=a.exports},1527:function(t,e,i){"use strict";i(13),i(6),i(5),i(46);var o=i(85),n=i(96),r=i.n(n),a={mixins:[i(24).a],name:"catalog-options-filter",props:{groupedOptions:{type:Array,default:function(){return[]}}},data:function(){return{isOpened:{},checkboxesState:[],selectsState:{},isOptionGroupsSended:[]}},computed:{selectOptionsId:function(){var t=[];return this.groupedOptions.forEach((function(e){e.options.forEach((function(e){(e.values&&e.values.length>1||void 0===e.values)&&t.push(e.id)}))})),t}},mounted:function(){void 0!==this.$store.state["cars-catalog"].selectedFilters.options&&(this.checkboxesState=this.$store.state["cars-catalog"].selectedFilters.options),void 0!==this.$store.state["used-cars-catalog"].selectedFilters.options&&(this.checkboxesState=this.$store.state["used-cars-catalog"].selectedFilters.options)},methods:{toggleFieldset:function(t,e){this.isOpened[t]=!Boolean(this.isOpened[t]),this.isOpened[t]&&this.dataLayerPush("Filter accordion",e,"Open"),this.isOpened=Object.assign({},this.isOpened)},changeFilter:function(){this.$emit("change_filter")},clearSelected:function(){this.resetSelectsState(),this.checkboxesState=[]},resetSelectsState:function(){var t=this;this.selectOptionsId.forEach((function(e){t.selectsState[e]=[]}))},checkHandler:function(t,e,i){t&&e&&i.length>0&&this.dataLayerPush("Filter accordion",t,e),this.$emit("input",this.getAllOptionValues())},getAllOptionValues:function(){var t=this.checkboxesState;for(var e in this.selectsState){var i=this.selectsState[e];i.length&&(t=t.concat(r()(i,"id")))}return t}},created:function(){this.resetSelectsState()},components:{IconAngleDown:o.a}},s=(i(1503),i(2)),l=Object(s.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.groupedOptions.length>0?i("fieldset",[i("div",{staticClass:"config-filter__options mt-6"},[i("div",{staticClass:"config-filter__options-title text-s1 mb-4"},[t._v("Опции")]),t._v(" "),t._l(t.groupedOptions,(function(e){return i("fieldset",{key:e.group.id,class:["options-fieldset",{"is-opened":t.isOpened[e.group.id]}]},[i("div",{staticClass:"options-fieldset__title config-filter__fields__title flex items-center justify-between",on:{click:function(i){return t.toggleFieldset(e.group.id,e.group.name)}}},[i("span",[t._v(t._s(e.group.name))]),t._v(" "),i("icon-angle-down")],1),t._v(" "),i("div",{staticClass:"options-fieldset__body config-filter__fields__body"},[i("ul",t._l(e.options,(function(o){return i("li",{key:o.id},[o.values?[o.values.length>1?i("g-select",{staticClass:"multiselect_small multiselect--aboveest",attrs:{placeholder:o.name,searchable:!0,"has-label":!1,label:o.name,multiple:!0,options:o.values,selected:t.selectsState[o.id]},on:{input:t.checkHandler},model:{value:t.selectsState[o.id],callback:function(e){t.$set(t.selectsState,o.id,e)},expression:"selectsState[option.id]"}}):t._l(o.values,(function(n){return i("g-checkbox",{key:n.id,attrs:{id:o.id,val:n.id,label:o.name,disabled:n.disabled},on:{input:function(i){return t.checkHandler(e.group.name,o.name,i)}},model:{value:t.checkboxesState,callback:function(e){t.checkboxesState=e},expression:"checkboxesState"}})}))]:[i("g-checkbox",{key:o.id,attrs:{id:o.id,val:o.id,label:o.name,disabled:o.disabled},on:{input:t.checkHandler},model:{value:t.checkboxesState,callback:function(e){t.checkboxesState=e},expression:"checkboxesState"}})]],2)})),0)])])}))],2)]):t._e()}),[],!1,null,null,null);e.a=l.exports},1811:function(t,e,i){"use strict";var o=i(1437);i.n(o).a},1812:function(t,e,i){"use strict";var o=i(1438);i.n(o).a},1813:function(t,e,i){"use strict";var o=i(1439);i.n(o).a},1814:function(t,e,i){"use strict";var o=i(1440);i.n(o).a},1905:function(t,e,i){},1953:function(t,e,i){"use strict";i(7),i(13),i(3),i(9),i(10),i(8),i(5);var o=i(15),n=i(18),r=i(56),a=i.n(r),s=i(998),l=i(70),c=i(1182),d=(i(1811),i(2)),u=Object(d.a)({},(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"catalog-tsr"},[e("picture",[e("source",{attrs:{srcset:"/images/banner1920.jpg",media:"(min-width: 1441px)"}}),this._v(" "),e("source",{attrs:{srcset:"/images/banner1440.jpg",media:"(min-width: 1025px)"}}),this._v(" "),e("source",{attrs:{srcset:"/images/banner1024.jpg",media:"(min-width: 771px)"}}),this._v(" "),e("source",{attrs:{srcset:"/images/banner770.jpg",media:"(min-width: 375px)"}}),this._v(" "),e("img",{attrs:{src:"/images/banner375.jpg",width:"100%",alt:""}})])])}],!1,null,null,null).exports,f=(i(60),i(6),i(83)),p=i(1131),h=i(1009),m=i(1036),g=i(14),v=i.n(g),_=i(31),b=i(24),y=i(37);function S(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function C(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?S(Object(i),!0).forEach((function(e){Object(o.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):S(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var x={name:"catalog-list",mixins:[s.a,_.a,y.a,b.a],props:{mode:{type:String,default:"table"},loading:{type:Boolean,default:!1},cars:{type:Array,default:function(){return[]}},model:{type:Object,default:function(){return{}}}},data:function(){return{resize:"445x250",showBooking:!0,isPopupOpened:!1,isFavoriteLoaded:!1,popupFormComponent:null,isSending:!1,sendingCarId:null,popupFormProps:{},favoriteType:"car_in_stock",markup:{options:["Датчик контроля давления","Тонировка","Комплект зимних колёс"]}}},mounted:function(){var t=this;this.getFavorites(this.favoriteType).then((function(e){void 0!==e.data.content.favorites&&(t.isFavoriteLoaded=!0)}))},computed:C({},Object(n.e)("personal/favorites",["favorites"]),{defaultImage:function(){return this.getResizeImagePath("/master-data/albums/nocar1.png",this.resize)},hasModel:function(){return!v()(this.model)},isMaxBenefit:function(){return void 0!==this.model.max_benefit&&0!==this.model.max_benefit}}),methods:C({},Object(n.b)("personal/favorites",["getFavorites","addFavorite"]),{sendAnalytic:function(t){var e={vehicleColorExterior:t.exterior_color_name_en,vehicleColorInterior:t.interior_color_name_en,vehicleModelYear:t.model_year,vehicleNameplate:t.model_name,vehicleTransmission:t.gearbox_name_en,vehicleTrim:t.complectation_name,city:t.city_code,completeSets:t.complectation_name,priceDealership:t.price};this.$auth.user&&(e.kiaCustomerId=this.$auth.user.id),this.dataLayerPush("Car locator","Model catalog","Click on product",e)},getImage:function(t){return t.photo?this.getResizeImagePath(t.photo,this.resize):this.defaultImage},getDetailUrl:function(t){return this.hasModel?{name:"models-code-cars-city-id",params:{code:this.model.code,id:t.code,city:t.city_code}}:{name:"buy-cars-city-code",params:{code:t.code,city:t.city_code}}},getDealersCount:function(t){var e=this.choice(t.dealer_cnt,["дилера","дилеров","дилеров"]);return"".concat(t.dealer_cnt," ").concat(e)},isFavorite:function(t){return this.isFavoriteLoaded&&void 0!==this.favorites[t.id]},favoriteClick:function(t,e){var i=this;if(e)this.popupFormProps={name:"".concat(t.model_name," ").concat(t.complectation_name," ").concat(t.year),id:t.id,type:"car_in_stock"},this.popupFormComponent="RemoveFavoriteCar",this.isPopupOpened=!0;else{if(this.dataLayerPush("Saving","Add car locator to favorites"),this.isSending)return;this.isSending=!0,this.sendingCarId=t.id,this.addFavorite({type:this.favoriteType,id:t.id}).then((function(e){0===e.data.error&&e.data.content.success&&(i.popupFormProps={car:t},i.popupFormComponent="AddedFavoriteCar",i.isPopupOpened=!0)})).finally((function(){i.isSending=!1,i.sendingCarId=null}))}},closePopup:function(){this.isPopupOpened=!1},checkOptions:function(t){return!v()(t.booking_options)},prepareOptions:function(t){var e=t.length-2,i=t.slice(0,2);if(e>0){var o=this.choice(e,["опция","опции","опций"]);i.push("+".concat(e," ").concat(o))}return i}}),components:{Car:p.a,Popup:f.a,Preloader:h.a,PopupContentForm:m.a}},O=(i(1812),Object(d.a)(x,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["catalog-items flex flex-row flex-wrap",{"view-list":"list"===t.mode}]},[t.loading?i("Preloader"):t._e(),t._v(" "),t._l(t.cars,(function(e){return i("Car",{key:e.id,attrs:{car:e,detailUrl:t.getDetailUrl(e),isMaxBenefit:t.isMaxBenefit,isFavorite:t.isFavorite(e),showButtonFavorites:!0,loadedButtonFavorites:t.isFavoriteLoaded,isSendingFavorite:t.isSending&&e.id===t.sendingCarId,"show-min-credit-amount":!1},on:{"favorite-click":t.favoriteClick,"close-popup":t.closePopup,"click-on-card":function(i){return t.sendAnalytic(e)}}},[i("template",{slot:"image"},[i("img",{attrs:{src:t.getImage(e),alt:e.model_name}})]),t._v(" "),e.has_booking?i("template",{slot:"image-labels"},[i("span",{staticClass:"image-label image-label--orange text-s3"},[t._v("\n        Онлайн-бронирование\n      ")])]):t._e(),t._v(" "),i("template",{slot:"name"},[t._v(t._s(e.model_name)+" "+t._s(e.complectation_name)+" "+t._s(e.year))]),t._v(" "),i("template",{slot:"description"},[i("div",[t._v(t._s(e.year)+" год производства / "+t._s(e.model_year)+" модельный год")]),t._v(" "),i("div",[t._v("Цвет: "+t._s(e.exterior_color_name))]),t._v(" "),i("div",[t._v("Салон: "+t._s(e.interior_color_name))])]),t._v(" "),i("template",{slot:"location"},[t._v(t._s(e.city_name)+", "+t._s(e.dealership_name))]),t._v(" "),0!==e.max_benefit?i("template",{slot:"max_benefit"},[t._v("\n      Выгода до "+t._s(t.formatMoney(e.max_benefit))+"\n    ")]):t._e(),t._v(" "),t.checkOptions(e)?i("template",{slot:"options"},[i("ul",{staticClass:"options text-s3i desktop1440:text-s2i"},t._l(t.prepareOptions(e.booking_options),(function(e){return i("li",{staticClass:"options__item"},[i("div",{staticClass:"options__option"},[t._v("\n            "+t._s(e)+"\n          ")])])})),0)]):t._e()],2)})),t._v(" "),t.isPopupOpened?i("Popup",[i("PopupContentForm",{attrs:{"component-name":t.popupFormComponent,"component-props":t.popupFormProps},on:{"close-popup":t.closePopup}})],1):t._e()],2)}),[],!1,null,"09285ca8",null).exports),F=(i(84),i(38),i(26),i(111),i(96)),w=i.n(F),k=i(1010),j=i.n(k),P=i(55),L=i.n(P),B=i(137),M=i.n(B),$=i(1011),E=i.n($),D=i(98),I=i.n(D),A=i(39),z=i.n(A),T=i(1121),V=i.n(T),H=i(1424),N=i.n(H),R=i(1473),Y=i(1474),U=i(1475),G=i(1476),J=i(1477),K=i(1527),W=i(1478);function q(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}var Q={name:"catalog-filter",mixins:[l.a,b.a],props:{isScrolledFixed:{type:Boolean,default:!0},isDummy:{type:Boolean,default:!1},isBooking:{type:Boolean,default:!1},isCarLocator:{type:Boolean,default:!1}},data:function(){return{prices:{},filterState:{years:[],models:[],drives:[],engines:[],options:[],gearboxes:[],model_years:[],complectations:[],exterior_colors:[],interior_colors:[]},configFilterOffsetLeft:0,configFilterHeight:"auto",isConfigFilterFixed:!1,isConfigFilterScroll:!1,isFilerFooterVisible:!0,isDesktopDevice:!1,isMinPriceSended:!1,isMaxPriceSended:!1}},mounted:function(){this.prepareFilter(),this.handleResize(),window.addEventListener("load",this.handleResize),window.addEventListener("resize",this.handleResize),this.isScrolledFixed&&(window.addEventListener("load",this.handleScrollConfigFilter),window.addEventListener("resize",this.handleScrollConfigFilter),window.addEventListener("scroll",this.handleScrollConfigFilter)),this.$emit("first-filter",this.prepareState())},beforeDestroy:function(){window.addEventListener("load",this.handleResize),window.addEventListener("resize",this.handleResize),this.isScrolledFixed&&(window.removeEventListener("load",this.handleScrollConfigFilter),window.removeEventListener("resize",this.handleScrollConfigFilter),window.removeEventListener("scroll",this.handleScrollConfigFilter))},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?q(Object(i),!0).forEach((function(e){Object(o.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):q(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(n.e)("cars-catalog",["meta","model","cities","filters","currentCityId","selectedFilters","availableFilters"]),{},Object(n.e)("geo-position",["city","extraRadius"]),{},Object(n.e)("ui",["header"]),{},Object(n.c)("cars-catalog",{currentCity:"getCurrentCity"}),{toCatalog:function(){return this.hasModel?{name:"buy-cars-city",params:{city:this.city.code}}:{name:"models-code-cars-city",params:{code:this.model.code,city:this.city.code}}},hasOffset:function(){return!(!this.header.isFixedHeaderVisible&&!this.isInited)},hasModel:function(){return v()(this.model)},availablePrices:function(){return{min:this.prices.min?a()(this.filters,"price.min"):a()(this.availableFilters,"price.min",a()(this.filters,"price.min")),max:this.prices.max?a()(this.filters,"price.max"):a()(this.availableFilters,"price.max",a()(this.filters,"price.max"))}},filterData:function(){var t=this;return N()(this.filters,(function(e,i){if(z()(e)){var o=t.availableFilters[i]||!1;return w()(e,(function(t){return Object.assign({},t,{disabled:o&&-1===I()(o,t.id)})}))}return e}))},engines:function(){return w()(this.filterData.engines,(function(t){var e=[t.name||null,t.power_hp?"".concat(t.power_hp," л.c."):null,t.fuel_type_name];return{id:t.id,disabled:t.disabled,name:j()(E()(e)," / ")}}))},exteriors:function(){return this.prepareColors(this.filterData.exterior_colors)},interiors:function(){return this.prepareColors(this.filterData.interior_colors)},filterApplyCount:function(){var t=M()(this.filterState,(function(t){return!v()(t)})).length;return t=v()(this.prices)?t:t+1,this.isBooking?t+1:t},configFilterOffset:function(){return{height:this.configFilterHeight,marginLeft:Math.floor(this.configFilterOffsetLeft)+"px"}},groupedOptions:function(){var t=[],e=V()(this.filters.options,"group_id"),i=this.availableFilters.options||!1;return this.filters.option_groups.forEach((function(o){if(e[o.id]){var n=[];for(var r in e[o.id]){var a=e[o.id][r];n.push(Object.assign({},a,{disabled:i&&-1===I()(i,a.id)}))}t.push({group:o,options:n})}})),t}}),methods:{applyFilter:function(){window.scrollTo({top:Math.round(document.getElementsByClassName("catalog__wrap")[0].offsetTop-80),behavior:"auto"}),this.$emit("apply-filter",this.prepareState())},prepareFilter:function(){var t=this;this.filterState=Object.keys(this.filterState).reduce((function(e,i){return t.selectedFilters[i]?e[i]=t.selectedFilters[i]:e[i]=t.filterState[i],e}),{}),void 0!==this.selectedFilters.price_from&&void 0!==this.selectedFilters.price_to&&(this.prices={min:this.selectedFilters.price_from,max:this.selectedFilters.price_to})},prepareColors:function(t){return w()(t,(function(t){return Object.assign({},t,{name:t.code?"".concat(t.name," (").concat(t.code,")"):t.name})}))},reloadFilter:function(){this.dataLayerPush("Car locator","Model catalog","Clear filter"),this.clearFilter(),this.$emit("reload-filter",this.prepareState())},clearFilter:function(){this.$emit("clear-toggle"),this.prices={},this.filterState={years:[],models:[],drives:[],engines:[],options:[],gearboxes:[],model_years:[],complectations:[],exterior_colors:[],interior_colors:[]},this.$refs["options-filter"].clearSelected()},prepareState:function(){return Object.assign({},this.filterState,{cities:[a()(this.city,"id",this.currentCityId)],models:this.prepareModelState(),price_from:a()(this.prices,"min"),price_to:a()(this.prices,"max"),radius:this.extraRadius||0})},prepareModelState:function(){return this.hasModel?this.filterState.models:[this.model.model_line_id]},setPriceFilter:function(t){(this.prices.min&&this.prices.min!==+t[0]||!this.prices.min&&this.availablePrices.min!==+t[0])&&this.sendAnalytics("min"),(this.prices.max&&this.prices.max!==+t[1]||!this.prices.max&&this.availablePrices.max!==+t[1])&&this.sendAnalytics("max"),this.prices={min:+t[0],max:+t[1]},this.applyFilter()},handleScrollConfigFilter:function(){var t=window.scrollY,e=Math.round(window.innerHeight),i=document.getElementsByClassName("page-wrapper__footer")[0].offsetTop,o=document.getElementsByClassName("user-watched")[0],n=void 0!==o?o.offsetTop:0,r=Math.round(document.getElementsByClassName("catalog__wrap")[0].offsetTop),a=Math.round(document.getElementsByClassName("catalog__container")[0].offsetLeft);this.isConfigFilterFixed=t>r,this.isConfigFilterScroll=t+e>(n||i),this.isConfigFilterScroll?this.configFilterHeight=Math.round(e-1)+"px":this.configFilterHeight="auto",this.configFilterOffsetLeft=a},handleResize:function(){this.isDesktopDevice=this.isDesktop()},setOptionsFilter:function(t){var e=this,i=t.filter((function(t){return!e.filterState.options.includes(t)}));this.groupedOptions.map((function(t,o){var n=L()(t.options,{id:i[0]});n&&e.dataLayerPush("Filter accordion",t.group.name,n.name)})),(this.filterState.options.length||t.length)&&(this.filterState.options=t,this.applyFilter())},sendAnalytics:function(t){"min"!==t||this.isMinPriceSended?"max"!==t||this.isMaxPriceSended||(this.isMaxPriceSended=!0,this.dataLayerPush("Car locator","Model catalog","Select maximum price")):(this.isMinPriceSended=!0,this.dataLayerPush("Car locator","Model catalog","Select minimum price"))}},watch:{city:function(){this.$router.push(this.toCatalog)},extraRadius:function(){this.applyFilter()}},components:{FilterRange:R.a,FilterHeader:Y.a,FilterFooter:U.a,FilterSelect:G.a,OptionsFilter:K.a,FilterCheckbox:J.a,FilterColorCheckbox:W.a}},X=(i(1813),Object(d.a)(Q,(function(){var t,e=this,i=e.$createElement,o=e._self._c||i;return o("aside",{ref:"configFilter",class:["config-filter",(t={},t["config-filter_fixed"]=e.isConfigFilterFixed,t["config-filter_scroll"]=e.isConfigFilterScroll,t["config-filter_dummy"]=e.isDummy,t["has-offset"]=e.hasOffset,t)],attrs:{"is-scrolled-fixed":e.isScrolledFixed}},[o("div",{staticClass:"config-filter__wrap",style:e.configFilterOffset},[o("div",{staticClass:"config-filter__container"},[o("div",{staticClass:"config-filter__form flex flex-col"},[o("FilterHeader",{on:{"clear-filter":e.reloadFilter}}),e._v(" "),o("div",{staticClass:"config-filter__body"},[o("div",{staticClass:"config-filter__content"},[e.hasModel?o("FilterCheckbox",{attrs:{title:"Модель",values:e.filterData.models},on:{input:e.applyFilter},model:{value:e.filterState.models,callback:function(t){e.$set(e.filterState,"models",t)},expression:"filterState.models"}}):e._e(),e._v(" "),o("FilterCheckbox",{attrs:{title:"Двигатель",values:e.engines},on:{input:e.applyFilter},model:{value:e.filterState.engines,callback:function(t){e.$set(e.filterState,"engines",t)},expression:"filterState.engines"}}),e._v(" "),o("FilterCheckbox",{attrs:{title:"Коробка передач",values:e.filterData.gearboxes},on:{input:e.applyFilter},model:{value:e.filterState.gearboxes,callback:function(t){e.$set(e.filterState,"gearboxes",t)},expression:"filterState.gearboxes"}}),e._v(" "),o("FilterCheckbox",{attrs:{title:"Привод",values:e.filterData.drives},on:{input:e.applyFilter},model:{value:e.filterState.drives,callback:function(t){e.$set(e.filterState,"drives",t)},expression:"filterState.drives"}}),e._v(" "),o("FilterCheckbox",{attrs:{title:"Комплектация",values:e.filterData.complectations},on:{input:e.applyFilter},model:{value:e.filterState.complectations,callback:function(t){e.$set(e.filterState,"complectations",t)},expression:"filterState.complectations"}}),e._v(" "),o("FilterCheckbox",{attrs:{title:"Год производства",id:"production_year_checkbox",values:e.filterData.years},on:{input:e.applyFilter},model:{value:e.filterState.years,callback:function(t){e.$set(e.filterState,"years",t)},expression:"filterState.years"}}),e._v(" "),o("FilterCheckbox",{attrs:{title:"Модельный год",id:"model_year_checkbox",values:e.filterData.model_years},on:{input:e.applyFilter},model:{value:e.filterState.model_years,callback:function(t){e.$set(e.filterState,"model_years",t)},expression:"filterState.model_years"}}),e._v(" "),o("FilterColorCheckbox",{attrs:{id:"exterior_color_checkbox",title:"Цвет кузова",values:e.exteriors},on:{input:e.applyFilter},model:{value:e.filterState.exterior_colors,callback:function(t){e.$set(e.filterState,"exterior_colors",t)},expression:"filterState.exterior_colors"}}),e._v(" "),o("FilterColorCheckbox",{attrs:{id:"interior_color_checkbox",title:"Цвет cалона",values:e.interiors,"has-label":!0},on:{input:e.applyFilter},model:{value:e.filterState.interior_colors,callback:function(t){e.$set(e.filterState,"interior_colors",t)},expression:"filterState.interior_colors"}}),e._v(" "),o("FilterRange",{ref:"priceRange",attrs:{title:"Стоимость, Р",min:e.availablePrices.min,max:e.availablePrices.max,values:[e.prices.min||e.availablePrices.min,e.prices.max||e.availablePrices.max]},on:{change:e.setPriceFilter}}),e._v(" "),o("OptionsFilter",{ref:"options-filter",attrs:{groupedOptions:e.groupedOptions},on:{input:e.setOptionsFilter}})],1)]),e._v(" "),o("FilterFooter",{class:{"is-visible":e.isFilerFooterVisible},attrs:{meta:e.meta,"show-refresh":Boolean(e.filterApplyCount),"with-padding":!e.isDesktopDevice,text:"Показать #total# авто"},on:{"clear-filter":e.reloadFilter}})],1)])])])}),[],!1,null,null,null).exports),Z=i(1466),tt=i(1372),et=i(1523);function it(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}var ot={name:"catalog",mixins:[s.a,l.a,b.a],data:function(){return{mode:"table",loading:!1,hasFilter:!0,isTabletScreen:!1,sortItems:[{id:1,name:"Рекомендуемое",sort:"booking_price",order:"asc",recommended:1},{id:2,name:"Цена по возрастанию",sort:"booking_price",order:"asc",recommended:0},{id:3,name:"Цена по убыванию",sort:"booking_price",order:"desc",recommended:0}],hasBookingFilter:!1,isActivationBookingSended:!1,isDeactivationBookingSended:!1,isListViewSended:!1,isCardsViewSended:!1,isLoadMoreSended:!1,firstFilter:[],isFilterSended:{engine:!1,transmission:!1,complectation:!1,modelYear:!1,exteriorColor:!1,interiorColor:!1}}},mounted:function(){var t=document.getElementsByClassName("config-filter__content")[0];this.hasFilter=void 0===t||t.childElementCount>0,this.hasBookingFilter=this.defaultToggle,this.resize(),window.addEventListener("resize",this.resize)},beforeDestroy:function(){window.removeEventListener("resize",this.resize)},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?it(Object(i),!0).forEach((function(e){Object(o.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):it(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(n.e)("cars-catalog",["model","cars","meta","defaultSort","defaultToggle"]),{},Object(n.c)("watched",["watchedEntities"]),{hasCars:function(){return this.cars.length>0},total:function(){var t=a()(this.meta,"total",0);if(t){var e=this.choice(t,["вариант авто","варианта авто","вариантов авто"]);return"".concat(t," ").concat(e)}return"Нет вариантов авто"},viewAlsoItems:function(){return[{icon:"IconDealerOffice",url:"/dealers/",text:"Поиск дилера"},{icon:"IconCarExchange",url:"/models/".concat(this.model.code,"/configurator/"),text:"Конфигуратор"},{icon:"IconCredit",url:"/models/".concat(this.model.code,"/calc/"),text:"Кредитный калькулятор"},{icon:"IconCarChoice",url:"/used_cars/",text:"Авто с пробегом"},{icon:"IconGarage",url:"/models/".concat(this.model.code,"/desc/"),text:"Подробнее о модели"}]}}),methods:{toggleViewMode:function(t){this.mode=t,"list"!==t||this.isListViewSended?"list"===t||this.isCardsViewSended||(this.dataLayerPush("Car locator","Model catalog","Change to card view of catalog"),this.isCardsViewSended=!0):(this.dataLayerPush("Car locator","Model catalog","Change to list view of catalog"),this.isListViewSended=!0)},SetFirstFilter:function(t){this.firstFilter=t},toggleLoading:function(){this.loading=!this.loading},applyFilter:function(t){var e=this;this.toggleLoading(),this.$store.dispatch("cars-catalog/filterCars",Object.assign({},t,this.$refs.header.getCurrentSort(),{recalc:!0},this.getCurrentBookingFilter())).then((function(t){return e.toggleLoading()})),this.sendFilterAnalytic(t)},sendFilterAnalytic:function(t){this.firstFilter.engines.length===t.engines.length||this.isFilterSended.engine||(this.isFilterSended.engine=!0,this.dataLayerPush("Car locator","Model catalog","Select engine")),this.firstFilter.gearboxes.length===t.gearboxes.length||this.isFilterSended.transmission||(this.isFilterSended.transmission=!0,this.dataLayerPush("Car locator","Model catalog","Select transmission")),this.firstFilter.model_years.length===t.model_years.length||this.isFilterSended.modelYear||(this.isFilterSended.modelYear=!0,this.dataLayerPush("Car locator","Model catalog","Select model year")),this.firstFilter.complectations.length===t.complectations.length||this.isFilterSended.complectation||(this.isFilterSended.complectation=!0,this.dataLayerPush("Car locator","Model catalog","Select trim")),this.firstFilter.exterior_colors.length===t.exterior_colors.length||this.isFilterSended.exteriorColor||(this.isFilterSended.exteriorColor=!0,this.dataLayerPush("Car locator","Model catalog","Select exterior color")),this.firstFilter.interior_colors.length===t.interior_colors.length||this.isFilterSended.interiorColor||(this.isFilterSended.interiorColor=!0,this.dataLayerPush("Car locator","Model catalog","Select interior color")),this.firstFilter.engines.length===t.engines.length||this.isFilterSended.engine||(this.isFilterSended.engine=!0,this.dataLayerPush("Car locator","Model catalog","Select engine"))},applySort:function(t){var e=this;this.toggleLoading(),this.$store.dispatch("cars-catalog/filterCars",Object.assign({},this.$refs.filter.prepareState(),{recalc:!0},t,this.getCurrentBookingFilter())).then((function(t){return e.toggleLoading()}))},reloadFilter:function(t){var e=this;this.$store.dispatch("cars-catalog/reloadFilterCars",Object.assign({},t,this.$refs.header.getCurrentSort())).then((function(){e.$store.dispatch("cars-catalog/clearFilter")}),(function(){}))},showMore:function(t){var e=this;this.toggleLoading(),this.isLoadMoreSended||(this.dataLayerPush("Car locator","Model catalog","Show more products"),this.isLoadMoreSended=!0);var i=window.scrollY;this.$store.dispatch("cars-catalog/showMoreCars",Object.assign({},this.$refs.filter.prepareState(),this.$refs.header.getCurrentSort(),this.getCurrentBookingFilter(),{page:t,only:"cars"})).then((function(t){e.toggleLoading(),window.scrollTo(0,i),setTimeout((function(){window.scrollBy(0,1)}),50)}))},applyHasBookingFilter:function(t){var e=this;this.hasBookingFilter=t;var i="";t&&!this.isActivationBookingSended?(i="Activate online booking",this.isActivationBookingSended=!0):t||this.isDeactivationBookingSended||(i="Deactivate online booking",this.isDeactivationBookingSended=!0),""!==i&&this.dataLayerPush("Car locator","Model catalog",i),this.toggleLoading(),this.$store.dispatch("cars-catalog/filterCars",Object.assign({},this.$refs.filter.prepareState(),{recalc:!0},this.$refs.header.getCurrentSort(),this.getCurrentBookingFilter())).then((function(t){return e.toggleLoading()}))},clearToggle:function(){this.hasBookingFilter=!1},getCurrentBookingFilter:function(){return this.hasBookingFilter?{has_booking:this.hasBookingFilter}:{}},resize:function(){this.isTabletScreen=this.isTablet()}},components:{Banner:u,Watched:c.a,CatalogList:O,CarsNotFound:et.a,CatalogFilter:X,CatalogHeader:Z.a,CatalogFooter:tt.a}},nt=(i(1814),Object(d.a)(ot,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"catalog__wrap"},[i("g-padding",[i("g-container",{staticClass:"catalog__container"},[i("div",{staticClass:"catalog__body flex"},[i("CatalogFilter",{ref:"filter",attrs:{isDummy:!t.hasFilter,"is-booking":t.hasBookingFilter,isCarLocator:!0},on:{"apply-filter":t.applyFilter,"reload-filter":t.reloadFilter,"clear-toggle":t.clearToggle,"first-filter":t.SetFirstFilter}}),t._v(" "),i("div",{class:["catalog__section",{catalog__section_dummy:!t.hasCars&&!t.hasFilter}]},[i("CatalogHeader",{ref:"header",attrs:{mode:t.mode,meta:t.meta,"has-filter":t.hasFilter,"default-sort":t.defaultSort,"has-booking-toggle":t.hasBookingFilter,showHasBookingToggler:!0,"sort-items":t.sortItems,"with-padding":!0,"full-size":!t.isTabletScreen},on:{"toggle-mode":t.toggleViewMode,"toggle-sort":t.applySort,"toggle-has-booking-filter":t.applyHasBookingFilter}},[i("template",{slot:"total"},[i("div",{class:["items-counter",{"items-counter_border":!t.isTabletScreen}]},[t._v("\n                "+t._s(t.total)+"\n              ")])])],2),t._v(" "),t.hasCars?[i("CatalogList",{attrs:{mode:t.mode,cars:t.cars,model:t.model,loading:t.loading}}),t._v(" "),i("CatalogFooter",{attrs:{meta:t.meta},on:{"show-more":t.showMore}})]:i("CarsNotFound",{attrs:{items:t.viewAlsoItems},on:{mounted:function(e){return t.dataLayerPush("Car locator","Model catalog","No products found")}}})],2)],1)])],1),t._v(" "),t.hasCars?t._e():i("Watched",{attrs:{entities:t.watchedEntities}})],1)}),[],!1,null,"670dbe33",null));e.a=nt.exports},2346:function(t,e,i){"use strict";var o=i(1905);i.n(o).a},2588:function(t,e,i){"use strict";i.r(e);i(7),i(75),i(13),i(3),i(26),i(9),i(10),i(8),i(5);var o=i(15),n=i(18),r=i(34),a=i(997),s=i(24),l=i(1953),c=i(532),d=i(537),u=i(398);function f(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?f(Object(i),!0).forEach((function(e){Object(o.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var h={name:"model-catalog-list",mixins:[s.a],mounted:function(){this.dataLayerPush("Car locator","Model catalog","Start",null,!0)},fetch:function(t){var e=t.store,i=t.params,o=t.error,n=t.req,s=r.a.methods.getCookie("geo-extra-radius",n),l=s?p({},i,{radius:s}):i;return Object(a.a)(e,o,"cars-catalog/loadModelPage",l).then((function(){return e.commit("ui/setHeaderColor","black"),Object(a.a)(e,o,"cars-catalog/loadFilter").then((function(){}),(function(){}))}),(function(){}))},head:function(){return{title:this.seo.title,meta:[{hid:"description",name:"description",content:this.seo.description}]}},computed:p({},Object(n.e)("cars-catalog",["seo","model","cities"]),{},Object(n.c)("cars-catalog",{currentCity:"getCurrentCity"}),{pageTitle:function(){var t="".concat(this.model.name);return this.currentCity?"".concat(t," в г. ").concat(this.currentCity.name):t},breadcrumbItems:function(){return[{name:"Модели",href:{name:"models"}},{name:this.model.name,href:{name:"models-code-desc",params:{code:this.model.code}}},{name:"Каталог новых автомобилей"}]},autoInStockTo:function(){return{name:"buy-cars"}}}),components:{GeoIP:u.a,Catalog:l.a,Breadcrumbs:c.default,BreadcrumbBack:d.default}},m=(i(2346),i(2)),g=Object(m.a)(h,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"catalog config pt-12 desktop1440:pt-16 is-config-filter-opened",attrs:{id:"has-config-filter"}},[i("g-padding",{staticClass:"pt-0 desktop:pt-4"},[i("g-container",{staticClass:"flex justify-between"},[i("Breadcrumbs",{attrs:{items:t.breadcrumbItems}})],1),t._v(" "),i("g-container",{staticClass:"desktop:hidden"},[i("BreadcrumbBack",{attrs:{name:"Все авто в наличии",href:t.autoInStockTo}})],1),t._v(" "),i("g-container",[i("div",{staticClass:"desktop:pt-6 pb-6 tablet:pb-10 desktop1440:pb-12"},[i("h1",{staticClass:"text-x5 desktop:text-x3"},[t._v("\n            "+t._s(t.pageTitle)+"\n          ")]),t._v(" "),i("GeoIP",{staticClass:"mt-6",attrs:{"main-city-code":this.$route.params.city,"filtered-cities":t.cities,isCarLocator:!0},on:{click:function(e){return t.dataLayerPush("Car locator","Open city and radius")}}}),t._v(" "),i("div",{staticClass:"mt-2"},[t._v("\n            Новые автомобили в наличии у официальных дилеров Kia\n          ")])],1)])],1),t._v(" "),i("Catalog")],1)])}),[],!1,null,"6a685a2c",null);e.default=g.exports}}]);