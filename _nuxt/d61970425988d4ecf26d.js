(window.webpackJsonp=window.webpackJsonp||[]).push([[208],{1002:function(e,t,r){"use strict";r(1013),r(3),r(60),r(36),r(27),r(168),r(311);var s=r(161),n=r(86),i=(r(33),r(376),r(8),r(5),null);var a=null;function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.createElement(e);return Object.keys(t).forEach((function(e){r[e]=t[e]})),r}function c(e,t,r){return(window.getComputedStyle(e,r||null)||{display:"none"})[t]}function l(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};for(var t=e;t!==document;){if("none"===c(t,"display"))return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var d='.resize-triggers{visibility:hidden;opacity:0}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',u=0,p=null;function f(e,t){if(e.__resize_mutation_handler__||(e.__resize_mutation_handler__=v.bind(e)),!e.__resize_listeners__)if(e.__resize_listeners__=[],window.ResizeObserver){var r=e.offsetWidth,s=e.offsetHeight,n=new ResizeObserver((function(){(e.__resize_observer_triggered__||(e.__resize_observer_triggered__=!0,e.offsetWidth!==r||e.offsetHeight!==s))&&m(e)})),i=l(e),a=i.detached,f=i.rendered;e.__resize_observer_triggered__=!1===a&&!1===f,e.__resize_observer__=n,n.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){m(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(u||(p=function(e){var t=document.createElement("style");return t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),(document.querySelector("head")||document.body).appendChild(t),t}(d)),function(e){var t=c(e,"position");t&&"static"!==t||(e.style.position="relative");e.__resize_old_position__=t,e.__resize_last__={};var r=o("div",{className:"resize-triggers"}),s=o("div",{className:"resize-expand-trigger"}),n=o("div"),i=o("div",{className:"resize-contract-trigger"});s.appendChild(n),r.appendChild(s),r.appendChild(i),e.appendChild(r),e.__resize_triggers__={triggers:r,expand:s,expandChild:n,contract:i},_(e),e.addEventListener("scroll",h,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}(e),e.__resize_rendered__=l(e).rendered,window.MutationObserver){var b=new MutationObserver(e.__resize_mutation_handler__);b.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=b}e.__resize_listeners__.push(t),u++}function v(){var e=l(this),t=e.rendered,r=e.detached;t!==this.__resize_rendered__&&(!r&&this.__resize_triggers__&&(_(this),this.addEventListener("scroll",h,!0)),this.__resize_rendered__=t,m(this))}function h(){var e,t,r=this;_(this),this.__resize_raf__&&(e=this.__resize_raf__,a||(a=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}).bind(window)),a(e)),this.__resize_raf__=(t=function(){var e,t,s,n,i,a,o=(t=(e=r).__resize_last__,s=t.width,n=t.height,i=e.offsetWidth,a=e.offsetHeight,i!==s||a!==n?{width:i,height:a}:null);o&&(r.__resize_last__=o,m(r))},i||(i=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,16)}).bind(window)),i(t))}function m(e){e&&e.__resize_listeners__&&e.__resize_listeners__.forEach((function(t){t.call(e)}))}function _(e){var t=e.__resize_triggers__,r=t.expand,s=t.expandChild,n=t.contract,i=n.scrollWidth,a=n.scrollHeight,o=r.offsetWidth,c=r.offsetHeight,l=r.scrollWidth,d=r.scrollHeight;n.scrollLeft=i,n.scrollTop=a,s.style.width=o+1+"px",s.style.height=c+1+"px",r.scrollLeft=l,r.scrollTop=d}var b=["maxLines","maxHeight","ellipsis","isClamped"],g=["tag","text","autoresize"];t.a={name:"vue-clamp",props:{tag:{type:String,default:"div"},autoresize:{type:Boolean,default:!1},maxLines:Number,maxHeight:[String,Number],ellipsis:{type:String,default:"…"},expanded:Boolean},data:function(){return{offset:null,text:this.getText(),localExpanded:!!this.expanded}},computed:{clampedText:function(){return this.text.slice(0,this.offset)+this.ellipsis},isClamped:function(){return!!this.text&&this.offset!==this.text.length},realText:function(){return this.isClamped?this.clampedText:this.text},realMaxHeight:function(){if(this.localExpanded)return null;var e=this.maxHeight;return e?"number"==typeof e?"".concat(e,"px"):e:null}},watch:{expanded:function(e){this.localExpanded=e},localExpanded:function(e){e?this.clampAt(this.text.length):this.update(),this.expanded!==e&&this.$emit("update:expanded",e)}},mounted:function(){var e=this;this.init(),g.forEach((function(t){e.$watch(t,e.init)})),b.forEach((function(t){e.$watch(t,e.update)}))},updated:function(){this.text=this.getText(),this.applyChange()},beforeDestroy:function(){this.cleanUp()},methods:{init:function(){var e=this;if(this.$slots.default){if(this.offset=this.text.length,this.cleanUp(),this.autoresize){var t=function(){e.update()};f(this.$el,t),this.unregisterResizeCallback=function(){!function(e,t){if(e.detachEvent&&e.removeEventListener)return e.detachEvent("onresize",e.__resize_legacy_resize_handler__),void document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);var r=e.__resize_listeners__;r&&(r.splice(r.indexOf(t),1),r.length||(e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",h),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null),!--u&&p&&p.parentNode.removeChild(p))}(e.$el,t)}}this.update()}},update:function(){this.localExpanded||(this.applyChange(),(this.isOverflow()||this.isClamped)&&this.search())},expand:function(){this.localExpanded=!0},collapse:function(){this.localExpanded=!1},toggle:function(){this.localExpanded=!this.localExpanded},getLines:function(){return this.$refs.content.getClientRects().length},isOverflow:function(){return!(!this.maxLines&&!this.maxHeight)&&(!!(this.maxLines&&this.getLines()>this.maxLines)||!!(this.maxHeight&&this.$el.scrollHeight>this.$el.offsetHeight))},getText:function(){var e=(this.$slots.default||[]).filter((function(e){return!e.tag&&!e.isComment})),t=Object(n.a)(e,1)[0];return t?t.text:""},moveEdge:function(e){this.clampAt(this.offset+e)},clampAt:function(e){this.offset=e,this.applyChange()},applyChange:function(){this.$refs.text.textContent=this.realText},stepToFit:function(){this.fill(),this.clamp()},fill:function(){for(;(!this.isOverflow()||this.getLines()<2)&&this.offset<this.text.length;)this.moveEdge(1)},clamp:function(){for(;this.isOverflow()&&this.getLines()>1&&this.offset>0;)this.moveEdge(-1)},search:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var s=t[0],n=void 0===s?0:s,i=t[1],a=void 0===i?this.offset:i;if(a-n<=3)this.stepToFit();else{var o=Math.floor((a+n)/2);this.clampAt(o),this.isOverflow()?this.search(n,o):this.search(o,a)}},cleanUp:function(){this.unregisterResizeCallback&&this.unregisterResizeCallback()}},render:function(e){var t=[e("span",{ref:"text",attrs:{"aria-label":this.text.trim()}},this.realText)],r={expand:this.expand,collapse:this.collapse,toggle:this.toggle,clamped:this.isClamped,expanded:this.localExpanded},n=this.$scopedSlots.before?this.$scopedSlots.before(r):this.$slots.before;n&&t.unshift.apply(t,Object(s.a)(Array.isArray(n)?n:[n]));var i=this.$scopedSlots.after?this.$scopedSlots.after(r):this.$slots.after;i&&t.push.apply(t,Object(s.a)(Array.isArray(i)?i:[i]));var a=[e("span",{style:{boxShadow:"transparent 0 0"},ref:"content"},t)];return e(this.tag,{style:{maxHeight:this.realMaxHeight,overflow:"hidden"}},a)}}},1007:function(e,t,r){},1013:function(e,t,r){var s=r(23),n=r(1014),i=r(167);s({target:"Array",proto:!0},{fill:n}),i("fill")},1014:function(e,t,r){"use strict";var s=r(71),n=r(310),i=r(64);e.exports=function(e){for(var t=s(this),r=i(t.length),a=arguments.length,o=n(a>1?arguments[1]:void 0,r),c=a>2?arguments[2]:void 0,l=void 0===c?r:n(c,r);l>o;)t[o++]=e;return t}},1034:function(e,t,r){},1047:function(e,t,r){},1069:function(e,t,r){"use strict";r(7),r(3),r(9),r(10),r(8),r(5);var s=r(15),n=r(18),i=r(62),a=r(1002);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}var c={props:{customAside:{type:Boolean,default:!1}},data:function(){return{atTop:!0,isInited:!0,isOpened:!1,isResultFixed:!1,isResultScrolled:!1}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(n.e)("ui",["header"]),{hasOffset:function(){return!(!this.header.isFixedHeaderVisible&&!this.isInited)}}),mounted:function(){window.addEventListener("load",this.handleScrollResult),window.addEventListener("resize",this.handleScrollResult),window.addEventListener("scroll",this.handleScrollResult)},beforeDestroy:function(){window.removeEventListener("load",this.handleScrollResult),window.removeEventListener("resize",this.handleScrollResult),window.removeEventListener("scroll",this.handleScrollResult)},methods:{handleTouchMove:function(e){e.preventDefault()},handleScrollResult:function(){var e=window.scrollY,t=Math.round(window.innerHeight),r=Math.round(document.getElementsByClassName("page-wrapper__footer")[0].offsetTop);e<60?this.isInited=!this.header.isFixedHeaderVisible:(this.atTop=this.isInited,this.isInited=!1);var s=Math.round(this.$refs.result.offsetTop);this.isResultFixed=e>s,this.isResultScrolled=e+t>r+1},toggleResult:function(){this.isOpened=!this.isOpened,this.isOpened?Object(i.disableBodyScroll)(this.$refs.resultContent):Object(i.enableBodyScroll)(this.$refs.resultContent)}},components:{VClamp:a.a}},l=(r(1071),r(2)),d=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("aside",{ref:"result",class:["form-aside",e.isInited?"absolute":"fixed",{"is-opened":e.isOpened},{"at-top":e.isInited||e.atTop},{"has-offset":e.hasOffset},{"is-fixed":e.isResultFixed},{"is-scrolled":e.isResultScrolled},{"is-custom":e.customAside}]},[r("div",{directives:[{name:"touch",rawName:"v-touch:tap",value:e.toggleResult,expression:"toggleResult",arg:"tap"},{name:"touch",rawName:"v-touch:swipe.bottom.top",value:e.toggleResult,expression:"toggleResult",arg:"swipe",modifiers:{bottom:!0,top:!0}}],staticClass:"form-aside__header flex justify-between"},[r("div",{staticClass:"form-aside__header__title text-s2-b tablet:text-x5"},[r("v-clamp",{attrs:{autoresize:"","max-lines":1,ellipsis:"..."}},[e._t("title")],2)],1)]),e._v(" "),r("div",{staticClass:"form-aside__body"},[r("div",{ref:"resultContent",staticClass:"form-aside__content"},[e._t("body")],2),e._v(" "),r("div",{directives:[{name:"touch",rawName:"v-touch:tap",value:e.toggleResult,expression:"toggleResult",arg:"tap"},{name:"touch",rawName:"v-touch:swipe.bottom.top",value:e.toggleResult,expression:"toggleResult",arg:"swipe",modifiers:{bottom:!0,top:!0}}],staticClass:"form-aside__toggle"})])])}),[],!1,null,null,null);t.a=d.exports},1071:function(e,t,r){"use strict";var s=r(1007);r.n(s).a},1087:function(e,t,r){"use strict";r(36);var s={props:{steps:Array,currentStepIndex:Number,stepClickEmitFunction:{type:String,default:"select-step"}},methods:{onStepClick:function(e){this.stepClickEmitFunction&&e<this.currentStepIndex&&this.$emit(this.stepClickEmitFunction,e)}}},n=(r(1129),r(2)),i=Object(n.a)(s,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:["progress-bar-box w-screen desktop:w-auto",{"progress-bar-box--shifted":0!==e.currentStepIndex}]},[r("div",{staticClass:"flex progress-bar",style:"transform: translateX(-"+260*e.currentStepIndex+"px)"},e._l(e.steps,(function(t,s){return r("div",{class:["progress-bar__step relative color-gray flex",{"progress-bar__step--active":s===e.currentStepIndex},{"progress-bar__step--past":s<e.currentStepIndex},{"progress-bar__step-link":s<e.currentStepIndex}],on:{click:function(t){return t.preventDefault(),e.onStepClick(s)}}},[r("div",{staticClass:"progress-bar__step-number mt-2 text-s2-b color-black"},[e._v("\n        "+e._s("0"+(s+1))+"\n      ")]),e._v(" "),r("div",{staticClass:"progress-bar__step-name pl-3 mt-2 text-s2 color-disabled-gray"},[e._v("\n        "+e._s(t.name)+"\n      ")])])})),0)])}),[],!1,null,null,null);t.a=i.exports},1129:function(e,t,r){"use strict";var s=r(1034);r.n(s).a},1139:function(e,t,r){"use strict";var s=r(162),n={name:"test-drive-buttons",props:{showNextBtn:{type:Boolean,default:!0},textNextBtn:{type:String,default:"Шаг назад"},showPrevBtn:{type:Boolean,default:!1},textPrevBtn:{type:String,default:"Далее"},isContainerBordered:{type:Boolean,default:!1}},data:function(){return{isButtonsScrolled:!1}},mounted:function(){window.addEventListener("load",this.handleScrollButtons),window.addEventListener("resize",this.handleScrollButtons),window.addEventListener("scroll",this.handleScrollButtons)},beforeDestroy:function(){window.removeEventListener("load",this.handleScrollButtons),window.removeEventListener("resize",this.handleScrollButtons),window.removeEventListener("scroll",this.handleScrollButtons)},methods:{handleScrollButtons:function(){var e=window.scrollY,t=Math.round(window.innerHeight),r=Math.round(document.getElementsByClassName("page-wrapper__footer")[0].offsetTop);this.isButtonsScrolled=e+t>r+1}},components:{IconLeft:s.a}},i=(r(1157),r(2)),a=Object(i.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{staticClass:"form-buttons"},[r("div",{class:["form-buttons__container",{"is-scrolled":e.isButtonsScrolled},{"form-buttons__container--bordered":e.isContainerBordered}]},[r("g-container",[r("ul",{staticClass:"flex desktop:justify-end"},[e.showPrevBtn?r("li",[r("button",{staticClass:"button button_text",on:{click:function(t){return t.preventDefault(),e.$emit("click-prev")}}},[r("span",{staticClass:"button__span-after"},[r("icon-left"),e._v("\n              "+e._s(e.textPrevBtn)+"\n            ")],1)])]):e._e(),e._v(" "),e.showNextBtn?r("li",[r("button",{staticClass:"button button_primary",on:{click:function(t){return t.preventDefault(),e.$emit("click-next")}}},[r("span",{staticClass:"button__span-after"},[e._v("\n              "+e._s(e.textNextBtn)+"\n            ")])])]):e._e()])])],1)])}),[],!1,null,"6e69ebae",null);t.a=a.exports},1157:function(e,t,r){"use strict";var s=r(1047);r.n(s).a},1162:function(e,t,r){"use strict";r(17),r(13),r(8),r(7),r(3),r(6),r(9),r(5),r(10);var s=["class","staticClass","style","staticStyle","attrs"];function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(null==e)return{};var r,s,n=function(e,t){if(null==e)return{};var r,s,n={},i=Object.keys(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}t.a={functional:!0,render:function(e,t){var r=t._c,o=(t._v,t.data),c=t.children,l=void 0===c?[]:c,d=o.class,u=o.staticClass,p=o.style,f=o.staticStyle,v=o.attrs,h=void 0===v?{}:v,m=a(o,s);return r("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({class:[d,u],style:[p,f],attrs:Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},h)},m),l.concat([r("path",{attrs:{d:"M8.134 15.647V10M11.867 15.647V10M15.6 7.647V18H4.4V7.647m11.2 0H17V4.824h-4.667M15.6 7.647H4.4m0 0H3V4.824h4.667m0 0V2h4.666v2.824m-4.666 0h4.666",stroke:"currentColor","stroke-width":"1.5"}})]))}}},1189:function(e,t,r){"use strict";r(17),r(13),r(8),r(7),r(3),r(6),r(9),r(5),r(10);var s=["class","staticClass","style","staticStyle","attrs"];function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(null==e)return{};var r,s,n=function(e,t){if(null==e)return{};var r,s,n={},i=Object.keys(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}t.a={functional:!0,render:function(e,t){var r=t._c,o=(t._v,t.data),c=t.children,l=void 0===c?[]:c,d=o.class,u=o.staticClass,p=o.style,f=o.staticStyle,v=o.attrs,h=void 0===v?{}:v,m=a(o,s);return r("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({class:[d,u],style:[p,f],attrs:Object.assign({width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},h)},m),l.concat([r("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.737 9.676L10.5 16.48l-3.237-3.532 1.474-1.351L10.5 13.52l4.763-5.196 1.474 1.352z",fill:"currentColor"}}),r("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18 6H5v13h13V6zM3 4v17h17V4H3z",fill:"currentColor"}}),r("path",{attrs:{d:"M10 41H4.5S4 39.453 4 36.358c0-3.095 3.5-7.221 3.5-7.221S19 27.59 24 28.105c5 .516 10 4.127 10 4.127s10 1.92 11 3.094.5 5.674.5 5.674h-6.688M14 41h19.719",stroke:"currentColor","stroke-width":"2"}}),r("circle",{attrs:{cx:"12",cy:"41",r:"3",stroke:"currentColor","stroke-width":"2"}}),r("circle",{attrs:{cx:"36",cy:"41",r:"3",stroke:"currentColor","stroke-width":"2"}})]))}}},1216:function(e,t,r){},1295:function(e,t,r){"use strict";r(17),r(13),r(8),r(7),r(3),r(6),r(9),r(5),r(10);var s=["class","staticClass","style","staticStyle","attrs"];function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(null==e)return{};var r,s,n=function(e,t){if(null==e)return{};var r,s,n={},i=Object.keys(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}t.a={functional:!0,render:function(e,t){var r=t._c,o=(t._v,t.data),c=t.children,l=void 0===c?[]:c,d=o.class,u=o.staticClass,p=o.style,f=o.staticStyle,v=o.attrs,h=void 0===v?{}:v,m=a(o,s);return r("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({class:[d,u],style:[p,f],attrs:Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},h)},m),l.concat([r("circle",{attrs:{cx:"20",cy:"20",r:"19",transform:"rotate(-180 20 20)",stroke:"currentColor","stroke-width":"2"}}),r("path",{attrs:{d:"M21 10h-2.5v15H21V10z",fill:"currentColor"}}),r("circle",{attrs:{cx:"19.75",cy:"28.75",r:"1.25",transform:"rotate(-180 19.75 28.75)",fill:"currentColor"}})]))}}},1336:function(e,t,r){e.exports=r(403)},1429:function(e,t,r){},1430:function(e,t,r){},1431:function(e,t,r){"use strict";var s=r(1216);r.n(s).a},1432:function(e,t,r){},1471:function(e,t,r){"use strict";var s=r(1295),n={props:{description:String,isSimple:{type:Boolean,default:!1}},components:{IconInfoBig:s.a}},i=(r(1431),r(2)),a=Object(i.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"notice flex items-center"},[this.isSimple?this._e():t("IconInfoBig",{staticClass:"notice__icon mr-3 tablet:mr-6"}),this._v(" "),t("div",{class:["notice__text",{"w-full text-align-center":this.isSimple}],domProps:{innerHTML:this._s(this.description)}})],1)}),[],!1,null,null,null);t.a=a.exports},1727:function(e,t,r){"use strict";var s=r(1429);r.n(s).a},1728:function(e,t,r){"use strict";var s=r(1430);r.n(s).a},1729:function(e,t,r){},1730:function(e,t,r){},1731:function(e,t,r){},1732:function(e,t,r){},1733:function(e,t,r){"use strict";var s=r(1432);r.n(s).a},1734:function(e,t,r){},1737:function(e,t,r){},1961:function(e,t,r){"use strict";r(7),r(3),r(38),r(9),r(10),r(8),r(5);var s=r(15),n=r(14),i=r.n(n),a=r(1051),o=r(107),c=(r(36),{props:{car:Object,index:Number}}),l=(r(1727),r(2)),d=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"user-car"},[r("div",{staticClass:"user-car__content",class:e.car.isActive?"user-car__content_active":"",on:{click:function(t){return e.$emit("select-car",e.index)}}},[r("div",{staticClass:"user-car__image"},[r("img",{staticClass:"user-car__image-img",attrs:{src:e.car.image,alt:""}})]),e._v(" "),r("div",{staticClass:"user-car__info"},[r("div",{staticClass:"text-s3 color-dark-gray tablet:pr-4 desktop:pr-0"},[r("div",{staticClass:"text-x5 color-black"},[e._v(e._s(e.car.name)+" "+e._s(e.car.year))]),e._v(" "),r("div",{staticClass:"mt-1"},[e._v("\n          "+e._s(e.car.description)+"\n        ")]),e._v(" "),r("div",{staticClass:"mt-1"},[e._v("VIN-номер: "+e._s(e.car.vin))])])])])])}),[],!1,null,"604efb76",null).exports,u=r(18);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v={mixins:[a.a],data:function(){return{isLoading:!0}},props:{currentCar:Object,isRow:Boolean},created:function(){var e=this;this.cars.length?this.isLoading=!1:this.$store.dispatch("service-record/loadUserCars").then((function(){e.isLoading=!1}),(function(){}))},computed:f({},Object(u.e)("personal/user-cars",["cars"]),{},Object(u.e)("service-record",["isCarSelected"]),{hasCars:function(){return!i()(this.cars)},carsList:function(){var e=this;return this.cars.map((function(t){var r=e.prepareCar(t);return r.isActive=!i()(e.currentCar)&&e.isCarSelected&&t.car.vin===e.currentCar.car.vin,r}))}}),methods:f({},Object(u.d)("service-record",["setCar"]),{selectCar:function(e){this.setCar(this.cars[e]),this.$emit("select-user-car")}}),components:{Car:d,Loader:o.a}},h=(r(1728),Object(l.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isLoading?r("Loader"):r("div",[e.hasCars?r("div",{staticClass:"user-cars-list",class:{"user-cars-list--row":this.isRow}},e._l(e.carsList,(function(t,s){return r("Car",{key:s,attrs:{car:t},on:{"select-car":function(t){return e.selectCar(s)}}})})),1):r("div",{staticClass:"notice flex"},[r("div",{staticClass:"notice__text text-center w-full"},[e._v("\n      Автомобили не найдены. Вы можете добавить их в личном кабинете.\n    ")])])])}),[],!1,null,"9afbd810",null));t.a=h.exports},1979:function(e,t,r){"use strict";r(7),r(3),r(9),r(10),r(8),r(5);var s=r(15),n=r(18),i=r(1471),a=r(24),o=r(1295),c=r(1189);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}var d={mixins:[a.a],props:{title:String,vin:String,smallButton:!1,disableNotice:!1,disableServiceButton:!1,disableListInformation:!1,disableHasNoInspections:!1,disableError:!1},data:function(){return{toServiceButton:{title:"Записаться на сервис",link:"service-booking"},hasError:!1}},created:function(){this.vin?this.loadInspections(this.vin):this.hasInspections&&this.$store.commit("service-inspections/setServiceInspections",[])},watch:{vin:function(e){e&&this.loadInspections(e)}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(n.e)("service-inspections",["serviceInspections"]),{hasInspections:function(){return this.serviceInspections.length>0}}),methods:{loadInspections:function(e){var t=this;this.$store.dispatch("service-inspections/loadInspections",e).then((function(){t.hasError=!1,t.$emit("vin-decode-success")})).catch((function(){t.hasError=!0,t.$emit("vin-decode-fail")}))},reload:function(){this.hasError=!1,this.$emit("force-update"),this.$store.commit("service-inspections/setServiceInspections",[])},sendStatistic:function(){this.sendStatic("","VIN - Service lead button click","Aftersales",{non_interaction:!1})}},components:{Notice:i.a,IconInfoBig:o.a,IconCarChoice:c.a}},u=(r(1733),r(2)),p=Object(u.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.title?r("div",{staticClass:"text-x5 mt-6 mb-4"},[e._v("\n    "+e._s(e.title)+"\n  ")]):e._e(),e._v(" "),e.disableNotice||e.vin||e.hasError?e._e():[r("Notice",{attrs:{"is-simple":!0,description:"Введите VIN-номер, чтобы проверить доступность сервисных компаний"}})],e._v(" "),e.hasInspections?[e._l(e.serviceInspections,(function(e){return r("Notice",{key:e.id,attrs:{description:"Автомобиль подходит под сервисную инспекцию:<br/><strong>"+e.name+"</strong>"}})})),e._v(" "),e.disableListInformation?e._e():r("div",{staticClass:"text-s3 color-disabled-gray mt-4"},[e._v("\n      В случае обнаружения неполадок, все необходимые детали будут заменены на вашем автомобиле\n      без каки-либо затрат с вашей стороны. Выберете удобное время и запишитесь на сервис.\n    ")]),e._v(" "),e.disableServiceButton?e._e():r("div",{class:["service-inspections__button",{"service-inspections__button__small":e.smallButton},"mt-6"],on:{click:e.sendStatistic}},[r("g-button",{staticClass:"button button_primary",attrs:{as:"nuxt-link",to:{name:e.toServiceButton.link,params:{vin:e.vin}}}},[e._v("\n        "+e._s(e.toServiceButton.title)+"\n      ")])],1)]:e._e(),e._v(" "),e.disableHasNoInspections||e.hasInspections||!e.vin||e.hasError?e._e():[r("div",{staticClass:"notice flex items-center"},[r("IconCarChoice",{staticClass:"notice__icon mr-3 tablet:mr-6"}),e._v(" "),r("div",{staticClass:"notice__text"},[e._v("Автомобиль не попадает под сервисные инспекции")])],1),e._v(" "),e.disableServiceButton?e._e():r("div",{staticClass:"service-inspections__button mt-6 mb-8",on:{click:e.sendStatistic}},[r("g-button",{staticClass:"button button_primary",attrs:{as:"nuxt-link",to:{name:e.toServiceButton.link,params:{vin:e.vin}}}},[e._v("\n        "+e._s(e.toServiceButton.title)+"\n      ")])],1)],e._v(" "),!e.disableError&&e.hasError?[r("div",{staticClass:"service-inspections__item service-inspections__item_action"},[r("IconInfoBig",{staticClass:"mb-4"}),e._v(" "),r("div",{staticClass:"service-inspections__item-content"},[e._v("\n        Попробуйте обновить страницу и ввести VIN-номер ещё раз\n      ")]),e._v(" "),r("div",{staticClass:"service-inspections__item-button mt-6 mb-8"},[r("div",{staticClass:"button button_secondary",on:{click:e.reload}},[e._v("\n          Обновить\n        ")])])],1)]:e._e()],2)}),[],!1,null,"6552ea4d",null);t.a=p.exports},2189:function(e,t,r){"use strict";var s=r(1729);r.n(s).a},2190:function(e,t,r){"use strict";var s=r(1730);r.n(s).a},2191:function(e,t,r){"use strict";var s=r(1731);r.n(s).a},2192:function(e,t,r){"use strict";var s=r(1732);r.n(s).a},2193:function(e,t,r){"use strict";var s=r(1734);r.n(s).a},2196:function(e,t,r){"use strict";var s=r(1737);r.n(s).a},2396:function(e,t,r){"use strict";r.r(t);r(7),r(75),r(3),r(38),r(26),r(9),r(10),r(8),r(69),r(5);var s=r(15),n=r(390),i=r(18),a=r(997),o=r(317),c=r(1087),l=r(532),d=(r(6),r(382)),u=r(107),p=r(1519),f=r(1139),v=r(421),h=r(1961),m=r(14),_=r.n(m);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y={data:function(){return{activeTabIndex:0,viewTabs:["Мои авто","Новые данные"],vin:null,vinError:null,isLoading:!1,vinDecoderCar:{}}},created:function(){var e=this,t=this.$route.params.vin;t&&(this.isLoading=!0,this.activeTabIndex=1,this.getCarByVin(t).finally((function(){e.hasCar&&e.$emit("next-step"),e.isLoading=!1})))},computed:g({},Object(i.e)("service-record",["seo","car","isCarSelected"]),{hasCar:function(){return!_()(this.car)},isLoggedIn:function(){return this.$auth.loggedIn}}),methods:g({},Object(i.d)("service-record",["setIsCarSelected"]),{getCarByVin:function(e){var t=this;return this.$store.dispatch("service-record/getCarByVin",e).then((function(){t.vin=e,t.$refs.VinDecoder.vinDecodeSuccess()})).catch((function(){t.$refs.VinDecoder.vinDecodeFail()}))},getCarByComplectationId:function(e){var t=this;this.$store.dispatch("service-record/getCarByComplectationId",e.id).then((function(){t.$refs.VinDecoder.carSelectSuccess()})).catch((function(){t.$refs.VinDecoder.carSelectFail()}))},clearVinDecodeData:function(){this.vin=null,this.vinDecoderCar={}},selectUserCar:function(){this.clearVinDecodeData()},setViewMode:function(e){e&&this.clearVinDecodeData(),this.setIsCarSelected(!1),this.activeTabIndex=e}}),watch:{car:function(e){!this.activeTabIndex&&this.isLoggedIn||(this.vinDecoderCar=e)}},components:{Loader:u.a,NavTabs:d.a,UserCars:h.a,userIcon:v.a,VinDecoder:p.a,FormButtons:f.a}},O=(r(2189),r(2)),x=Object(O.a)(y,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"model",staticClass:"service-record__model mt-8 pb-4"},[r("g-padding",[r("g-container",[e.isLoggedIn?r("NavTabs",{attrs:{tabs:e.viewTabs,activeTabIndex:e.activeTabIndex},on:{"select-tab":e.setViewMode}}):r("div",{staticClass:"notice tablet:flex justify-between items-center"},[r("div",{staticClass:"mb-4 tablet:mb-0 tablet:mr-6"},[e._v("\n          Авторизуйтесь, чтобы мы подгрузили данные о вашем авто из личного кабинета.\n        ")]),e._v(" "),r("nuxt-link",{staticClass:"inline-flex items-center flex-shrink-0",attrs:{to:{name:"personal",params:{back_to:"/service/booking/"}}}},[r("userIcon",{staticClass:"mr-2"}),e._v(" "),r("span",[e._v("Личный кабинет")])],1)],1),e._v(" "),r("client-only",[0===e.activeTabIndex&&e.isLoggedIn?r("UserCars",{staticClass:"mt-8 mb-12 desktop:mb-20",attrs:{"current-car":e.car},on:{"select-user-car":e.selectUserCar}}):e._e()],1),e._v(" "),1!==e.activeTabIndex&&e.isLoggedIn?e._e():r("div",[r("VinDecoder",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],ref:"VinDecoder",class:["mt-8",{"mb-40":!e.hasCar||!e.isCarSelected}],attrs:{"car-info":e.vinDecoderCar,vin:e.vin,"mode-simple":!1,hasComplectations:!0,"search-fields":!1},on:{"decode-vin":e.getCarByVin,"car-selected":e.getCarByComplectationId}}),e._v(" "),e.isLoading?r("Loader"):e._e()],1),e._v(" "),e.hasCar&&e.isCarSelected?r("FormButtons",{staticClass:"is-full",attrs:{showNextBtn:!0,textNextBtn:"Далее","is-container-bordered":!0},on:{"click-next":function(t){return e.$emit("next-step")}}}):e._e()],1)],1)],1)}),[],!1,null,null,null).exports,w=(r(36),r(379)),C=(r(33),r(1051)),S=r(1069),j=r(37),k=r(109);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}var D={mixins:[C.a,j.a],props:{stepNames:Array,currentStepIndex:Number},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(i.e)("service-record",["car","dealership","selectedServices","selectedMaintenancePlan"]),{preparedCar:function(){return this.prepareCar(this.car)},checkToService:function(){var e=this.selectedServices,t=!1;return e.forEach((function(r){"maintenance"===r.code&&(t=e.length<2)})),t}}),methods:{allowToEdit:function(e){var t=this.stepNames.indexOf(e);return-1!==t&&t<this.currentStepIndex}},components:{IconEdit:k.a,AsideBlock:S.a}},I=(r(2190),Object(O.a)(D,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("AsideBlock",{ref:"aside"},[r("template",{slot:"title"},[e._v("\n    "+e._s(e.preparedCar.name)+" "+e._s(e.preparedCar.year)+"\n  ")]),e._v(" "),r("template",{slot:"body"},[r("g-container",{staticClass:"pb-12"},[r("div",{staticClass:"service-record__form-aside-title text-s1 mb-1"},[r("span",[e._v(e._s(e.preparedCar.name)+" "+e._s(e.preparedCar.year))]),e._v(" "),r("span",{staticClass:"service-record__form-aside-title-edit ml-1"},[e.allowToEdit("model")?r("IconEdit",{staticClass:"color-disabled-gray cursor-pointer",on:{click:function(t){return e.$emit("select-step","model")}}}):e._e()],1)]),e._v(" "),r("div",{staticClass:"service-record__form-aside-params color-dark-gray text-s3"},[r("div",{staticClass:"mt-1"},[e._v("\n          "+e._s(e.preparedCar.description)+"\n        ")]),e._v(" "),e.preparedCar.vin?r("div",{staticClass:"mt-1"},[e._v("VIN-номер: "+e._s(e.preparedCar.vin))]):e._e()]),e._v(" "),r("figure",{staticClass:"service-record__form-aside-image"},[r("img",{attrs:{src:e.preparedCar.image,alt:""}})]),e._v(" "),e.selectedServices.length?r("div",{staticClass:"service-record__form-aside-section"},[r("div",{staticClass:"service-record__form-aside-section-header text-s2-i flex items-center"},[r("div",[e._v("Состав работ")]),e._v(" "),e.allowToEdit("services")?r("IconEdit",{staticClass:"color-disabled-gray cursor-pointer ml-1",on:{click:function(t){return e.$emit("select-step","services")}}}):e._e()],1),e._v(" "),e._l(e.selectedServices,(function(t){return r("div",{staticClass:"mt-2"},["maintenance"===t.code&&e.selectedMaintenancePlan?r("div",{staticClass:"pb-2 service-record__form-aside-border-bottom"},[e.dealership.to_work_price?[e._v("\n              "+e._s(e.selectedMaintenancePlan.name)+" —\n              "),r("b",[e._v(e._s(e.formatMoney(e.dealership.to_work_price+e.dealership.to_spare_price)))])]:[e._v("\n              "+e._s(e.selectedMaintenancePlan.name)+"\n            ")]],2):e._e()])})),e._v(" "),e._l(e.selectedServices,(function(t){return r("div",{staticClass:"mt-2"},["maintenance"===t.code&&e.selectedMaintenancePlan?void 0:r("span",[e._v("\n            "+e._s(t.name)+"\n          ")])],2)})),e._v(" "),e.checkToService?e._e():r("div",{staticClass:"pt-2 mt-2 service-record__form-aside-border-top"},[r("span",{staticClass:"color-disabled-gray"},[e._v("Стоимость уточняйте у дилера")])])],2):e._e(),e._v(" "),e.dealership.name?r("div",{staticClass:"service-record__form-aside-section"},[r("div",{staticClass:"service-record__form-aside-section-header text-s2-i flex items-center"},[r("div",[e._v("Дилер")]),e._v(" "),e.allowToEdit("dealer")?r("IconEdit",{staticClass:"color-disabled-gray cursor-pointer ml-1",on:{click:function(t){return e.$emit("select-step","dealer")}}}):e._e()],1),e._v(" "),r("div",{staticClass:"mt-2 text-s2i-b"},[e._v("\n          "+e._s(e.dealership.name)+"\n        ")]),e._v(" "),r("div",{staticClass:"mt-1 text-s3i"},[e.dealership.address?r("div",[e._v(e._s(e.dealership.address))]):e._e(),e._v(" "),e.dealership.work_time?r("div",{domProps:{innerHTML:e._s(e.dealership.work_time)}}):e._e(),e._v(" "),e.dealership.phone?r("div",[e._v(e._s(e.dealership.phone))]):e._e()])]):e._e()])],1)],2)}),[],!1,null,"4864d60b",null).exports);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B={props:{stepNames:Array,currentStepIndex:Number},data:function(){return{isActiveComponent:!1,locatorReload:0}},computed:$({},Object(i.e)("geo-position",["cities"]),{},Object(i.e)("dealerships",["dealerships","services"]),{},Object(i.e)("service-record",["dealership","car","selectedMaintenancePlan","dontReload","selectedServices"]),{prepareCarInfo:function(){return this.selectedMaintenancePlan?{car_code:this.car.model.external_id+this.car.modification.external_id,model_year:this.car.car.model_year,production_year:this.car.car.year,service_codes:JSON.stringify(this.selectedServices.map((function(e){return e.code}))),to_name:this.selectedMaintenancePlan.name,to_code:this.selectedMaintenancePlan.dnm_code}:null}}),methods:$({},Object(i.d)("service-record",["setDealership"]),{selectDealer:function(e){this.setDealership(e),this.$emit("next-step")}}),activated:function(){window.scrollTo(0,0),this.dontReload||this.locatorReload++},components:{FormAside:I,DealerLocator:w.a}},M=(r(2191),Object(O.a)(B,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"service-record__form mt-6"},[r("g-padding",[r("g-container",{staticClass:"flex"},[r("FormAside",{attrs:{stepNames:e.stepNames,"current-step-index":e.currentStepIndex},on:{"select-step":function(t){return e.$emit("select-step",t)}}}),e._v(" "),r("div",{staticClass:"service-record__form-content-wrap"},[r("div",{staticClass:"service-record__dealer"},[r("div",{staticClass:"text-x5 px-6 desktop:px-8 desktop1440:px-16 mb-6"},[e._v("\n            Выберите дилера\n          ")]),e._v(" "),r("DealerLocator",{key:e.locatorReload,staticClass:"dealer-locator_service-record",attrs:{mode:"table","show-link":!1,cities:e.cities||[],services:e.services||[],carInfo:e.prepareCarInfo,"is-calculator-page":!0},on:{"checked-dealer":e.selectDealer}})],1)])],1)],1)],1)}),[],!1,null,"bac0838c",null).exports),z=(r(13),r(376),r(76)),L=r(56),T=r.n(L),N=r(68),R=r.n(N),V=r(55),A=r.n(V),F=r(1336),H=r.n(F),q=r(998),U={data:function(){return{}}},Y=(r(2192),Object(O.a)(U,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"service-record__form-content"},[t("div",{staticClass:"service-record__form-content-body"},[this._t("body")],2),this._v(" "),this._t("footer")],2)}),[],!1,null,"60ea38ef",null).exports),W=r(1979),J=r(61),G=r(1162);function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Q={mixins:[q.a,j.a],props:{stepNames:Array,currentStepIndex:Number},data:function(){return{maintenancePdf:null,maintenancePlans:[],selectedServices:[null]}},created:function(){this.getServices()},computed:X({},Object(i.e)("service-record",["car","services","selectedMaintenancePlan","dealership"]),{},Object(i.e)("service-inspections",["serviceInspections"]),{availableServices:function(){var e=this.selectedServices;return this.services.filter((function(t){return!A()(e,{code:t.code})}))},selectedPlan:{get:function(){return this.selectedMaintenancePlan},set:function(e){_()(this.dealership)||this.setDealership({}),this.$store.dispatch("dealerships/clearAll"),this.setDontReload(!1),this.setSelectedMaintenancePlan(e)}},showNextBtn:function(){var e=this.selectedServices.filter((function(e){return e})).length;return Boolean(e)}}),methods:X({},Object(i.d)("service-record",["setSelectedServices","setSelectedMaintenancePlan","setDealership","setDontReload"]),{selectService:function(e){1===this.availableServices.length||e||this.selectedServices.push(null)},deleteService:function(e){this.selectedServices.splice(e,1),R()(this.selectedServices)&&this.selectedServices.push(null)},hasMaintenancePlans:function(e){return e&&"maintenance"===e.code&&this.maintenancePlans.length},getServices:function(){var e=this;this.$store.dispatch("service-record/getServices").then((function(){e.services.map((function(t){return"maintenance"===t.code&&(e.maintenancePdf=T()(t,"data.pdf",null),T()(t,"data.plans",[]).forEach((function(t,r,s){e.maintenancePlans.push({id:t.id,name:"".concat(t.name," - ").concat(e.formatNumber(t.mileage,0," "," ")," км / ").concat(e.formatYear(t.period)),dnm_code:t.dnm_code}),r===s.length-1&&e.maintenancePlans.push({id:null,name:"".concat(t.name,"+")})})),e.maintenancePlans.length&&e.setSelectedMaintenancePlan(Object.assign({},H()(e.maintenancePlans)))),t}))}))},formatYear:function(e){var t=Math.round(e/12*10)/10,r=this.choice(t,["год","года","лет"]);return"".concat(t," ").concat(r)}}),activated:function(){window.scrollTo(0,0)},watch:{car:function(){this.maintenancePlans=[],this.maintenancePdf=null,this.selectedServices=[null],this.setSelectedMaintenancePlan(null),this.getServices()},selectedServices:{deep:!0,handler:function(e,t){var r=e.filter((function(e){return e}));_()(this.dealership)||this.setDealership({}),this.$store.dispatch("dealerships/clearAll"),this.setDontReload(!1),this.setSelectedServices(Object.assign([],r))}}},components:{FormAside:I,FormContent:Y,FormButtons:f.a,DocumentIcon:J.a,ServiceInspections:W.a,IconRemove:G.a,ValidationProvider:z.b,ValidationObserver:z.a}},Z=(r(2193),Object(O.a)(Q,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"service-record__form mt-6"},[r("g-padding",[r("g-container",{staticClass:"flex"},[r("FormAside",{attrs:{stepNames:e.stepNames,"current-step-index":e.currentStepIndex},on:{"select-step":function(t){return e.$emit("select-step",t)}}}),e._v(" "),r("ValidationObserver",{staticClass:"service-record__form-content-wrap",scopedSlots:e._u([{key:"default",fn:function(t){t.handleSubmit;return[r("FormContent",{staticClass:"pt-6 desktop:pt-0 mb-28 desktop:mt-0",scopedSlots:e._u([{key:"body",fn:function(){return[e.car.car.vin?r("div",{class:{"service-record__form-section service-record__form-addons":e.serviceInspections.length}},[e.serviceInspections.length?r("div",[r("div",{staticClass:"mb-4 text-x5"},[e._v("Сервисные инспекции:")]),e._v(" "),r("div",{staticClass:"mb-6 text-s2"},[e._v("\n                  Ваш автомобиль подходит под сервисные инспекции. В случае обнаружения неполадок,\n                  все необходимые детали будут заменены на вашем автомобиле без каки-либо затрат с\n                  вашей стороны!\n                ")])]):e._e(),e._v(" "),r("ServiceInspections",{attrs:{vin:e.car.car.vin,"disable-notice":!0,disableListInformation:!0,"disable-has-no-inspections":!0,"disable-service-button":!0}})],1):e._e(),e._v(" "),r("div",{staticClass:"service-record__form-section"},[r("div",{staticClass:"service-record__form-section-header tablet:flex justify-between mb-4"},[r("div",{staticClass:"text-x5 mb-4 tablet:mb-0 tablet:mr-6"},[e._v("\n                  Выберите тип работ:\n                ")]),e._v(" "),r("div",[e.maintenancePdf?r("a",{staticClass:"inline-flex items-center",attrs:{href:e.maintenancePdf,target:"_blank"}},[r("DocumentIcon",{staticClass:"mr-2"}),e._v("\n\n                    Регламент всех ТО\n                  ")],1):e._e()])])]),e._v(" "),e._l(e.selectedServices,(function(t,s){return r("div",{staticClass:"service-record__form-select"},[r("div",{staticClass:"service-record__form-select-control"},[r("g-select",{staticClass:"multiselect_small",attrs:{placeholder:"Добавить работу","no-options":"",searchable:!1,options:e.availableServices,disabled:!e.availableServices.length,selected:t,selectFunction:"select"},on:{select:function(r){return e.selectService(t)}},model:{value:e.selectedServices[s],callback:function(t){e.$set(e.selectedServices,s,t)},expression:"selectedServices[key]"}})],1),e._v(" "),e.hasMaintenancePlans(t)?r("div",{staticClass:"service-record__form-select-control"},[r("g-select",{staticClass:"multiselect_small",attrs:{placeholder:"Выберите план ТО","no-options":"",searchable:!1,selected:e.selectedPlan,options:e.maintenancePlans},model:{value:e.selectedPlan,callback:function(t){e.selectedPlan=t},expression:"selectedPlan"}})],1):e._e(),e._v(" "),t?r("div",{staticClass:"service-record__form-select-action text-s3",on:{click:function(t){return e.deleteService(s)}}},[r("IconRemove",{staticClass:"block mr-1"}),e._v("\n\n                Удалить\n              ")],1):e._e()])}))]},proxy:!0},{key:"footer",fn:function(){return[r("FormButtons",{attrs:{showPrevBtn:!0,textPrevBtn:"Шаг назад",showNextBtn:e.showNextBtn,textNextBtn:"Далее"},on:{"click-prev":function(t){return e.$emit("prev-step")},"click-next":function(t){return e.$emit("next-step")}}})]},proxy:!0}],null,!0)})]}}])})],1)],1)],1)}),[],!1,null,"3e788b6e",null).exports),ee=(r(49),r(0)),te=r(1030),re=r(165),se=r(24),ne=r(1989),ie=r(1990),ae=r(1050),oe=r(1017),ce=r(1991),le=r(1016);function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r(1048);var pe={mixins:[le.a,te.a,se.a,j.a],props:{stepNames:Array,currentStepIndex:Number},data:function(){return{form:this.getDefaultFormData(),source:"service",fullService:!0,isRemotePopupOpen:!1,title:"Укажите удобное время",isBanned:!1,unlockDate:null,banType:null}},created:function(){this.getSlots(),this.fillFormUserData(this.form),this.loadModels(),this.setDontReload(!0)},mounted:function(){this.loadAllCities()},computed:ue({},Object(i.e)("geo-position",["city"]),{},Object(i.e)("service-request",["slots"]),{},Object(i.e)("service-record",["car","models","isSent","agreement","dealership","selectedServices","selectedMaintenancePlan"]),{hasDealer:function(){return!_()(this.dealership)},hasDealerRemoteService:function(){return T()(this.dealership,"remote_service",!1)},fromDate:function(){return this.$moment().startOf("day")},hasTestDriveModels:function(){return!_()(this.models)},afterDate:function(){return this.$moment().startOf("day").add(13,"d").endOf("day")},datePickerLabel:function(){return this.form.remote?"Желаемая дата и время оказания услуги":"Желаемая дата и время визита"},showSlots:function(){return!_()(this.slots)&&null!==this.form.date},showRemoteSlots:function(){return null!==this.form.date},getTradeInLabel:function(){return"Оцените мой ".concat(this.car.model.model_line.name," ").concat(this.car.car.year," в трейд-ин")},checkToService:function(){var e=this,t=!1;return this.selectedServices.map((function(r){"maintenance"===r.code&&e.selectedMaintenancePlan&&(t=!0)})),t}}),methods:ue({},Object(i.b)("geo-position",["loadAllCities"]),{},Object(i.d)("service-record",["setIsSent","setDontReload"]),{loadModels:function(){var e=this;this.$store.dispatch("service-record/loadModels").finally((function(){e.clearModels()}))},clearModels:function(){this.hasTestDriveModels||(this.form.testDrive=null),this.form.testDriveModel=null},selectedTime:function(e){this.form.slotTime=e},toggleRemotePopup:function(){this.isRemotePopupOpen=!this.isRemotePopupOpen},prepareDate:function(e){return e&&e.format()},prepareServices:function(){var e=this;return this.selectedServices.map((function(t){var r={id:t.id};return"maintenance"===t.code&&e.selectedMaintenancePlan&&(r.data={maintance_plan:{id:e.selectedMaintenancePlan.id,work_price:e.dealership.to_work_price?e.dealership.to_work_price:"",spare_price:e.dealership.to_spare_price?e.dealership.to_spare_price:""}}),r}))},getSlots:function(){this.clearSlots(),this.dealership.show_slots&&null!==this.dealership.dnm_id&&this.$store.dispatch("service-request/loadSlots",{dnm_id:this.dealership.dnm_id,start:this.fromDate.clone().add(this.fromDate.utcOffset(),"m").unix(),end:this.afterDate.clone().add(this.afterDate.utcOffset(),"m").unix()})},clearSlots:function(){this.form.remote||(this.form.slotTime=null),_()(this.slots)||this.$store.dispatch("service-request/clearSlots")},onSubmit:function(){var e=this,t=this.car.car,r=this.car.model,s=new FormData;s.append("year",t.year),s.append("model_id",r.id),s.append("source",this.source),s.append("name",this.form.name),s.append("agree",+this.form.agree),s.append("comment",this.form.comment),s.append("full_service",+this.fullService),s.append("agreement_id",this.agreement.id),s.append("dealership_id",this.dealership.id),s.append("model_line_id",r.model_line.id),s.append("complectation_id",t.complectation_id),s.append("phone",this.preparePhone(this.form.phone)),s.append("service_types",JSON.stringify(this.prepareServices())),t.vin&&s.append("vin",t.vin),this.form.tradeIn&&s.append("trade_in",+this.form.tradeIn),this.form.testDrive&&this.form.testDriveModel&&(s.append("test_drive",+this.form.testDrive),s.append("test_drive_model_code",this.form.testDriveModel.external_id)),this.form.remote?(s.append("remote_service",+this.form.remote),s.append("to_date",this.prepareDate(this.form.slotTime.to)),s.append("from_date",this.prepareDate(this.form.slotTime.from))):s.append("from_date",this.prepareDate(this.showSlots?this.form.slotTime:this.form.date.startOf("day"))),this.sendDataLayerAnalytics(),this.$axios(ee.a.createServiceRequest(s)).then((function(t){var r=t.data;r.content.unlock_date&&(e.unlockDate=r.content.unlock_date,e.banType=r.content.ban_type,e.form=e.getDefaultFormData(),e.isBanned=!0,window.scrollTo(0,0)),r.content.success&&(e.setIsSent(!0),e.form=e.getDefaultFormData(),window.scrollTo(0,0))})).catch((function(t){t instanceof re.a&&e.$refs.form.setErrors(e.prepareValidateErrors(t.data,{from_date:"date",to_date:"date",remote_service:"remote",phone:"phone",name:"name",agree:"agree"}))}))},getDefaultFormData:function(){return{date:null,name:null,phone:null,agree:null,remote:null,comment:null,tradeIn:null,slotTime:null,testDrive:null,testDriveModel:null}},sendDataLayerAnalytics:function(){var e=this.car.modification.transmission,t=this.car.modification.engine,r="".concat(t.engine_volume," ").concat(t.engine_type," / ").concat(t.fuel_type," / ")+"".concat(e.gearbox," / ").concat(e.drive),s={vehicleModelYear:this.car.car.model_year,vehicleNameplate:this.car.model.model_line.name,vehicleTransmission:e.gearbox_code,vehicleTrim:r,dealershipId:this.dealership.code,dealershipName:this.dealership.name_en,userLocation:this.city.name_en,vehicleEngine:"".concat(t.engine_volume," ").concat(t.engine_type," | ").concat(t.fuel_type),driveUnit:e.drive_code,worktype:this.selectedServices.map((function(e){return e.code})).join("|"),productionYear:this.car.car.year};this.$auth.user&&(s.kiaCustomerId=this.$auth.user.id),void 0!==this.car.car.vin&&(s.customerLeadVin=this.car.car.vin),this.selectedMaintenancePlan&&(s.maintenanceNumber=this.selectedMaintenancePlan.name),this.dataLayerPush("Lead","Full service","Lead submit",s)}}),activated:function(){this.fillFormUserData(this.form),this.setDontReload(!0),window.scrollTo(0,0)},watch:{dealership:function(e){e.remote_service||(this.form.remote=!1),_()(e)||(this.loadModels(),this.getSlots())}},components:{Slots:ne.a,FormAside:I,LeadBanned:ae.a,RemoteSlots:ce.a,FormContent:Y,PopupService:ie.a,LicenseButton:oe.a,ValidationProvider:z.b,ValidationObserver:z.a}},fe=(r(2196),Object(O.a)(pe,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"service-record__form mt-6 mb-30 desktop:mb-0"},[r("g-padding",[r("g-container",{staticClass:"flex"},[r("FormAside",{attrs:{stepNames:e.stepNames,"current-step-index":e.currentStepIndex},on:{"select-step":function(t){return e.$emit("select-step",t)}}}),e._v(" "),e.isSent||e.isBanned?e._e():r("ValidationObserver",{ref:"form",staticClass:"service-record__form-content-wrap",scopedSlots:e._u([{key:"default",fn:function(t){var s=t.handleSubmit;return[r("FormContent",{staticClass:"pt-6 desktop:pt-0",scopedSlots:e._u([{key:"body",fn:function(){return[r("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),s(e.onSubmit)}}},[r("div",{staticClass:"form__wrap flex"},[r("div",{staticClass:"form__container"},[e.checkToService?r("div",[r("div",{staticClass:"text-s1 mb-4"},[e._v("\n                      Стоимость технического обслуживания\n                    ")]),e._v(" "),e.dealership.to_work_price?r("div",{staticClass:"price-block text-s2 mb-4"},[r("div",{staticClass:"price-block__info"},[r("div",{staticClass:"price-block__row"},[e._v("\n                          Стоимость работ\n                          "),r("b",{staticClass:"price-block__price text-s2-b tablet:text-s1"},[e._v("\n                            "+e._s(e.formatMoney(e.dealership.to_work_price))+"\n                          ")])]),e._v(" "),r("div",{staticClass:"price-block__row"},[e._v("\n                          Стоимость оригинальных запасных частей\n                          "),r("b",{staticClass:"price-block__price text-s2-b tablet:text-s1"},[e._v("\n                            "+e._s(e.formatMoney(e.dealership.to_spare_price))+"\n                          ")])])]),e._v(" "),r("div",{staticClass:"price-block__total"},[r("span",{staticClass:"price-block__total-label block tablet:inline-flex tablet:mb-1"},[e._v("\n                          Итоговая стоимость")]),e._v(" "),r("b",{staticClass:"block tablet:inline-block text-s2-b tablet:text-x5"},[e._v("\n                          "+e._s(e.formatMoney(e.dealership.to_work_price+e.dealership.to_spare_price))+"\n                        ")])])]):r("div",{staticClass:"price-not-found mb-10"},[e._v("\n                      Не удалось узнать стоимость работ у дилера "+e._s(e.dealership.name)+", но вы всё\n                      равно можете записаться к нему на ТО\n                    ")])]):e._e(),e._v(" "),r("div",{staticClass:"text-s1 mb-4"},[e._v("\n                    Ваши контакты\n                  ")]),e._v(" "),r("fieldset",{staticClass:"is-split"},[r("ul",[r("li",[r("ValidationProvider",{attrs:{vid:"name",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("g-form-control",{attrs:{type:"text",label:"Имя *",error:s[0]},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})]}}],null,!0)})],1),e._v(" "),r("li",[r("ValidationProvider",{attrs:{vid:"phone",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("g-form-control",{directives:[{name:"mask",rawName:"v-mask",value:"+7 (###) ###-##-##",expression:"'+7 (###) ###-##-##'"}],attrs:{type:"text",label:"Телефон *",placeholder:"+7 (___) ___-__-__",error:s[0]},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})]}}],null,!0)})],1),e._v(" "),r("li",{staticClass:"is-full"},[r("ValidationProvider",{attrs:{vid:"remote"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("div",{staticClass:"desktop:pt-6"},[r("g-form-control",{attrs:{disabled:!e.hasDealerRemoteService,type:"checkbox",id:"remote",name:"remote",checked:e.form.remote,error:s[0],"has-label":!1},on:{input:function(t){return e.selectedTime(null)}},model:{value:e.form.remote,callback:function(t){e.$set(e.form,"remote",t)},expression:"form.remote"}},[r("template",{slot:"label"},[r("span",{staticClass:"remote-label"},[e._v("\n                                  Удаленный сервис\n                                ")]),e._v(" "),r("button",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleRemotePopup(t)}}},[r("g-info-icon",{staticClass:"ml-2 block",attrs:{theme:"black"}})],1)])],2),e._v(" "),e.hasDealerRemoteService?e._e():r("div",{staticClass:"text-s4 mt-2 color-silver"},[e._v("\n                              Услуга недоступна для выбранного дилера\n                            ")])],1)]}}],null,!0)})],1),e._v(" "),r("li",[r("ValidationProvider",{attrs:{vid:"date",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("g-form-datepicker",{attrs:{blackActive:!0,label:e.datePickerLabel,hideDefaultValue:!0,disabled:!e.hasDealer,disableFrom:e.fromDate,disableAfter:e.afterDate,error:s[0]},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})]}}],null,!0)})],1),e._v(" "),r("li",{staticClass:"mb-0 is-full"}),e._v(" "),e.form.remote?r("li",[e.showRemoteSlots?r("ValidationProvider",{attrs:{vid:"slot",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("RemoteSlots",{attrs:{chooseDate:e.form.date,error:s[0],title:"Укажите удобное время"},on:{"selected-time":e.selectedTime},model:{value:e.form.slotTime,callback:function(t){e.$set(e.form,"slotTime",t)},expression:"form.slotTime"}})]}}],null,!0)}):e._e()],1):r("li",[e.showSlots?r("ValidationProvider",{attrs:{vid:"slot",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("Slots",{attrs:{start:e.fromDate,end:e.afterDate,interval:e.slots.interval,"available-time":e.slots.work_time,"busy-time":e.slots.used,chooseDate:e.form.date,error:s[0],title:e.title},on:{"selected-time":e.selectedTime},model:{value:e.form.slotTime,callback:function(t){e.$set(e.form,"slotTime",t)},expression:"form.slotTime"}})]}}],null,!0)}):e._e()],1)])]),e._v(" "),r("fieldset",{staticClass:"is-split"},[r("ul",[r("li",[r("div",{staticClass:"text-s1 mb-4"},[e._v("\n                          Во время проведения работ\n                        ")]),e._v(" "),e.hasTestDriveModels?r("div",{staticClass:"mt-3"},[r("g-form-control",{attrs:{type:"checkbox",id:"testdrive",name:"testdrive",checked:e.form.testDrive,label:"Хочу пройти тест-драйв"},model:{value:e.form.testDrive,callback:function(t){e.$set(e.form,"testDrive",t)},expression:"form.testDrive"}})],1):e._e(),e._v(" "),e.hasTestDriveModels&&e.form.testDrive?r("div",{staticClass:"mt-3 mb-6"},[r("ValidationProvider",{attrs:{vid:"testdrivemodel",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("g-select",{staticClass:"multiselect_small",attrs:{placeholder:"Выберите модель",searchable:!0,error:s[0],selected:e.form.testDriveModel,options:e.models},model:{value:e.form.testDriveModel,callback:function(t){e.$set(e.form,"testDriveModel",t)},expression:"form.testDriveModel"}})]}}],null,!0)})],1):e._e(),e._v(" "),r("div",{staticClass:"mt-3"},[r("g-form-control",{attrs:{type:"checkbox",id:"tradein",name:"tradein",label:e.getTradeInLabel},model:{value:e.form.tradeIn,callback:function(t){e.$set(e.form,"tradeIn",t)},expression:"form.tradeIn"}})],1)])])]),e._v(" "),r("fieldset",{staticClass:"is-full"},[r("ul",[r("li",[r("g-form-control",{attrs:{type:"textarea",as:"textarea","rows-count":5,placeholder:"Текст комментария"},model:{value:e.form.comment,callback:function(t){e.$set(e.form,"comment",t)},expression:"form.comment"}})],1)])]),e._v(" "),r("div",{staticClass:"form-agree"},[r("ValidationProvider",{attrs:{vid:"agree",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("g-form-control",{attrs:{type:"checkbox",id:"agree",name:"agree",error:s[0],"has-label":!1},model:{value:e.form.agree,callback:function(t){e.$set(e.form,"agree",t)},expression:"form.agree"}},[r("template",{slot:"label"},[r("LicenseButton",{attrs:{agreement:e.agreement}})],1)],2)]}}],null,!0)})],1)])]),e._v(" "),r("div",{staticClass:"form-button"},[r("button",{staticClass:"button button_primary",attrs:{type:"submit"}},[e._v("Отправить заявку")])])])]},proxy:!0}],null,!0)})]}}],null,!1,44772829)}),e._v(" "),e.isSent?r("div",{staticClass:"desktop:p-8 desktop1440:p-16 desktop1440:ml-20"},[r("div",{staticClass:"text-x4 mb-4"},[e._v("\n          Заявка успешно отправлена!\n        ")]),e._v(" "),r("p",[e._v("\n          Сотрудник дилерского центра Kia свяжется с Вами в ближайшее время.\n        ")]),e._v(" "),r("div",{staticClass:"my-8 desktop:mb-0"},[r("nuxt-link",{tag:"NavLink",staticClass:"button button_primary button_fixed-width",attrs:{to:"/"}},[e._v("На главную")])],1)]):e._e(),e._v(" "),e.isBanned?r("LeadBanned",{staticClass:"desktop:p-8 desktop1440:p-16 desktop1440:ml-20",attrs:{unlockDate:e.unlockDate,banType:e.banType}}):e._e()],1)],1),e._v(" "),e.isRemotePopupOpen?r("PopupService",{on:{"toggle-info-popup":e.toggleRemotePopup}}):e._e()],1)}),[],!1,null,"3294e530",null).exports);function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var me={mixins:[n.a],fetch:function(e){var t=e.store,r=e.error;return Object(a.a)(t,r,"service-record/loadPage").then((function(){t.commit("ui/setHeaderColor","black")}),(function(){}))},head:function(){return{title:this.seo.title,meta:[{hid:"description",name:"description",content:this.seo.description}]}},data:function(){return{currentStepIndex:0,steps:{model:{name:"Ваш авто",component:x},services:{name:"Сервисные работы",component:Z},dealer:{name:"Выбор дилера",component:M},contacts:{name:"Ваши контакты",component:fe}},defaultDisclaimer:{default:'  [1] ООО «Киа Россия и СНГ», г. Москва, Валовая ул., д. 26 (<a href="https://www.kia.ru">https://www.kia.ru</a>)<br>  [2] Актуальный список официальных дилеров ООО «Киа Россия и СНГ» на территории Российской Федерации доступен по ссылке: <a href="https://www.kia.ru/dealers/">https://www.kia.ru/dealers/</a><br>  [3] ООО «Киа Россия и СНГ» оставляет за собой право поручать обработку предоставленных персональных данных другим лицам, в том числе находящимся за пределами Российской Федерации».<br>'}}},created:function(){this.clearSelectedData()},destroyed:function(){this.clearInspections()},computed:he({},Object(i.e)("ui",["header"]),{},Object(i.e)("service-record",["isSent","seo","footerDisclaimer"]),{},Object(i.c)("layout",["getFooterDisclaimer"]),{breadcrumbItems:function(){return[{name:"Запись на сервис"}]},currentStep:{get:function(){return this.steps[this.currentStepName]},set:function(e){this.currentStepIndex=e}},currentStepName:function(){return this.stepNames[this.currentStepIndex]},stepNames:function(){return Object.keys(this.steps)},progressSteps:function(){return Object.values(this.steps).map((function(e){return{name:e.name}}))},hasAside:function(){return"model"!==this.currentStepName}}),methods:he({},Object(i.d)("service-record",["clearSelectedData","setIsSent"]),{},Object(i.b)("service-inspections",["clearInspections"]),{},Object(i.d)("layout",["setFooterDisclaimer"]),{selectStepHandler:function(e){this.currentStep=e},nextStep:function(){this.currentStep=this.currentStepIndex+1},prevStep:function(){this.currentStep=this.currentStepIndex-1},setStepUrl:function(){var e=this.$route.path;this.currentStepIndex&&(e=this.$route.path+"step_".concat(this.currentStepIndex+1,"/")),this.replaceUrlWithGtag(e,this.seo.title)}}),mounted:function(){this.setFooterDisclaimer(this.defaultDisclaimer.default)},watch:{currentStepName:function(e){"contacts"!==e&&"dealer"!==e||this.setFooterDisclaimer(this.footerDisclaimer),this.isSent&&"contacts"!==e&&this.setIsSent(!1),this.setStepUrl()}},components:{Callback:o.default,Breadcrumbs:l.default,ProgressBar:c.a}},_e=Object(O.a)(me,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"serviceRecord",staticClass:"service-record relative pt-12 desktop1440:pt-16"},[r("g-padding",{class:[{"pt-16":e.hasAside},"desktop:pt-4"]},[r("g-container",{staticClass:"flex desktop:justify-between"},[r("Breadcrumbs",{attrs:{items:e.breadcrumbItems}})],1)],1),e._v(" "),r("g-padding",{staticClass:"py-6 desktop:pb-8"},[r("g-container",[r("div",{staticClass:"tablet:flex justify-between mb-4"},[r("h1",{staticClass:"text-x4 desktop1440:text-x3"},[e._v("\n          Запись на сервис\n        ")]),e._v(" "),"model"===e.currentStepName?r("div",{staticClass:"mt-6 tablet:mt-0"},[r("nuxt-link",{staticClass:"button button_secondary button_small button_fixed-width",attrs:{to:"/service/fast_booking/"}},[e._v("\n            Быстрая запись\n          ")])],1):e._e()])])],1),e._v(" "),r("g-padding",[r("g-container",{staticClass:"desktop:pb-4"},[r("progress-bar",{attrs:{steps:e.progressSteps,currentStepIndex:e.currentStepIndex},on:{"select-step":e.selectStepHandler}})],1)],1),e._v(" "),r("keep-alive",[r(e.currentStep.component,{ref:"currentStep",tag:"component",attrs:{"step-names":e.stepNames,"current-step-index":e.currentStepIndex},on:{"next-step":function(t){return e.nextStep()},"prev-step":function(t){return e.prevStep()},"select-step":function(t){e.currentStep=e.stepNames.indexOf(t)}}})],1)],1)}),[],!1,null,null,null);t.default=_e.exports}}]);