(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1191:function(e,t,s){},1300:function(e,t,s){},1368:function(e,t,s){"use strict";s(3),s(33),s(38),s(26),s(108);var i=s(19),o=s.n(i),l=s(88),n=s.n(l),r=(s(376),{props:{modelFilter:Array,carcassTypes:Array,isDropDownSelected:Boolean},data:function(){return{selected:[]}},computed:{},methods:{checked:function(e){return-1!==this.modelFilter.indexOf(e)},inputCarcass:function(e,t){var s=this.selected.indexOf(t);e?-1===s&&this.selected.push(t):-1!==s&&this.selected.splice(s,1),this.$emit("change-filter",this.selected)}}}),d=(s(2036),s(2)),a=Object(d.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"constructor__step"},[s("nav",{staticClass:"constructor__formfactors mt-6 mb-8 desktop:mt-12 desktop:mb-10"},[e.isDropDownSelected?e._e():s("ul",{staticClass:"flex"},e._l(e.carcassTypes,(function(t,i){return s("li",{key:i},[s("g-form-control",{attrs:{type:"checkbox",id:t.id,label:t.name,value:t.id,checked:e.checked(t.id)},on:{input:function(s){return e.inputCarcass(s,t.id)}}})],1)})),0)])])}),[],!1,null,"119d4164",null).exports,c=s(1515),u=s(1467),h=(s(13),s(32)),m={props:{models:Array},computed:{modelOptions:function(){return[{id:!1,name:"Не выбрано"}].concat(this.models)},selectedModel:function(){return void 0!==Object(h.a)(this.selectedIndex)&&this.modelOptions[this.selectedIndex]}},methods:{selectModel:function(e){this.selectedIndex=this.modelOptions.indexOf(e),this.$emit("model-select",e)}}},p=(s(2037),Object(d.a)(m,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"constructor__model-selector pt-2 mb-6"},[s("g-select",{staticClass:"multiselect_small",attrs:{options:e.modelOptions,selected:e.selectedModel,"select-function":"select-model",placeholder:"Выберите модель"},on:{"select-model":function(t){return e.selectModel(t)}}})],1)}),[],!1,null,"ac8e4a6a",null).exports),v=s(37),f=s(31),M={mixins:[v.a,f.a],props:{carcassTypes:{type:Array,default:[]},models:{type:Array,default:[]},modelLines:{type:Array,default:[]},currentModelId:{type:String,default:null},showFilter:{type:Boolean,default:!1},videoPage:{type:Boolean,default:!1}},data:function(){return{filter:[],isDropDownSelected:!1,activeModelIndex:this.videoPage?null:0,activeModelId:this.currentModelId,availableModels:[],smallSliderResize:"150x73",largeSliderResize:"750x366"}},computed:{modelLinesByKey:function(){return o()(this.modelLines,"id")},filterModels:function(e){var t=this;return 0===this.filter.length||this.filter.length===this.carcassTypes.length?this.models:this.models.filter((function(e){return-1!==t.filter.indexOf(e.carcass_type_id)}))}},methods:{setActiveModelId:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.activeModelId=e,this.emitModelChange(e,t)},emitModelChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$emit("model-select",e,t)},modelDropdownSelectHandler:function(e){!1===e.id?(this.isDropDownSelected=!1,this.availableModels=this.presentModels(this.filterModels)):(this.isDropDownSelected=!0,this.availableModels=[e],this.setActiveModelId(e.id)),this.activeModelIndex=0},modelSelectHandler:function(e){this.activeModelIndex=e,this.setActiveModelId(this.availableModels[e].id)},filterChangeHandler:function(e){this.filter=e;var t=this.filterModels,s=n()(t,{id:this.activeModelId});Object.assign(this.$data,{availableModels:this.presentModels(t),activeModelIndex:void 0!==s?parseInt(s):0,activeModelId:void 0!==s?this.activeModelId:t[0].id}),this.emitModelChange(this.activeModelId)},presentModels:function(e){var t=this,s=o()(e,"model_line_id"),i=[];for(var l in this.modelLines){var n=s[this.modelLines[l].id];void 0!==n&&i.push({id:n.id,price:this.formatMoney(n.min_price),name:this.modelLinesByKey[n.model_line_id].name,smallImage:this.getResizeImagePath(n.image_right,this.smallSliderResize),largeImage:this.getResizeImagePath(n.image,this.largeSliderResize)})}return this.videoPage?this.models.map((function(e){return{id:e.unique_id,name:e.name,smallImage:t.getResizeImagePath(e.image_right,t.smallSliderResize)}})):i},onModelImgClick:function(){this.$emit("model-img-click")}},created:function(){this.availableModels=this.presentModels(this.models),this.models.length&&(this.currentModelId&&(this.activeModelIndex=parseInt(n()(this.availableModels,{id:this.currentModelId}))),this.videoPage||this.setActiveModelId(this.availableModels[this.activeModelIndex].id,!0))},mounted:function(){window.scrollTo(0,0)},components:{SmallCarousel:u.a,DropdownSelect:p,ModelFilter:a,LargeSlider:c.a}},g=(s(2038),Object(d.a)(M,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("DropdownSelect",{attrs:{models:e.presentModels(e.filterModels)},on:{"model-select":e.modelDropdownSelectHandler}}),e._v(" "),e.showFilter?s("ModelFilter",{attrs:{carcassTypes:e.carcassTypes,modelFilter:e.filter,isDropDownSelected:e.isDropDownSelected},on:{"change-filter":e.filterChangeHandler}}):e._e(),e._v(" "),s("SmallCarousel",{attrs:{models:e.availableModels,activeModelIndex:e.activeModelIndex,activeModelId:e.activeModelId},on:{"model-select":e.modelSelectHandler}}),e._v(" "),e.videoPage?e._e():s("LargeSlider",{attrs:{models:e.availableModels,activeModelIndex:e.activeModelIndex,activeModelId:e.activeModelId},on:{"model-select":e.modelSelectHandler,"model-img-click":function(t){return e.onModelImgClick()}}})],1)}),[],!1,null,null,null));t.a=g.exports},1381:function(e,t,s){"use strict";var i=s(1191);s.n(i).a},1467:function(e,t,s){"use strict";s(36);var i=s(381),o=s(380),l={props:{models:Array,activeModelIndex:Number,activeModelId:String,showArrows:{type:Boolean,default:!0}},data:function(){return{lastModelsState:[],noAnimateSwiperSlideLimit:1,swiperOptionsModels:{navigation:{nextEl:"[data-button-next]",prevEl:"[data-button-prev]"},speed:300,slidesPerView:"auto",spaceBetween:40}}},mounted:function(){this.swiper.slideTo(this.activeModelIndex,0),this.lastModelsState=this.models},computed:{swiper:function(){return this.$refs.sliderModels.swiper}},methods:{getModelIdByIndex:function(e){return this.models[e].id},selectModel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.swiperOptionsModels.speed;this.swiper.slideTo(e,t),this.getModelIdByIndex(e)!==this.activeModelId&&this.$emit("model-select",e)}},updated:function(){var e=this.swiperOptionsModels.speed;(Math.abs(this.activeModelIndex-this.swiper.activeIndex)>=this.noAnimateSwiperSlideLimit||this.lastModelsState!==this.models)&&(e=0),this.selectModel(this.activeModelIndex,e),this.lastModelsState=this.models},components:{LongArrowLeftSm:i.a,LongArrowRightSm:o.a}},n=(s(1381),s(2)),r=Object(n.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"constructor__step"},[s("div",{staticClass:"constructor__model-carousel"},[s("div",{directives:[{name:"swiper",rawName:"v-swiper:sliderModels",value:e.swiperOptionsModels,expression:"swiperOptionsModels",arg:"sliderModels"}],ref:"sliderModels"},[e.showArrows?s("div",{staticClass:"constructor__model-carousel-button constructor__model-carousel-button_prev",attrs:{"data-button-prev":""}},[s("LongArrowLeftSm")],1):e._e(),e._v(" "),s("div",{staticClass:"swiper-wrapper flex"},e._l(e.models,(function(t,i){return s("div",{key:i,class:[{active:i===e.activeModelIndex},"constructor__model-carousel__slide","swiper-slide"],on:{click:function(){return e.selectModel(i)}}},[s("figure",[s("img",{attrs:{src:t.smallImage,alt:t.name}})]),e._v(" "),s("div",{staticClass:"text-s1"},[e._v(e._s(t.name))]),e._v(" "),t.price?[e._v("\n            от "+e._s(t.price)+"\n          ")]:e._e()],2)})),0),e._v(" "),e.showArrows?s("div",{staticClass:"constructor__model-carousel-button constructor__model-carousel-button_next",attrs:{"data-button-next":""}},[s("LongArrowRightSm")],1):e._e()])])])}),[],!1,null,"7d038420",null);t.a=r.exports},1490:function(e,t,s){"use strict";var i=s(1300);s.n(i).a},1515:function(e,t,s){"use strict";s(7),s(3),s(26),s(36),s(9),s(10),s(8),s(5);var i=s(15),o=s(381),l=s(380),n=s(18);function r(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}var d={props:{models:Array,activeModelIndex:Number,activeModelId:String,showTitle:{type:Boolean,default:!0}},data:function(){return{lastModelsState:[],noAnimateSwiperSlideLimit:1,swiperOptionsModelsLarge:{navigation:{prevEl:".button-models-large-prev",nextEl:".button-models-large-next"},speed:300,slidesPerView:1,spaceBetween:100}}},mounted:function(){this.selectModel(this.activeModelIndex,0),this.lastModelsState=this.models},computed:{swiper:function(){return this.$refs.sliderModelsLarge.swiper}},methods:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?r(Object(s),!0).forEach((function(t){Object(i.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},Object(n.d)("step-manager",["nextStep"]),{nextCarName:function(){return this.models[this.activeModelIndex+1]?this.models[this.activeModelIndex+1].name:""},prevCarName:function(){return this.models[this.activeModelIndex-1]?this.models[this.activeModelIndex-1].name:""},slideChangeHandler:function(){this.getModelIdByIndex(this.swiper.activeIndex)!==this.activeModelId&&this.$emit("model-select",this.swiper.activeIndex)},selectModel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.swiperOptionsModelsLarge.speed;this.swiper.slideTo(e,t)},getModelIdByIndex:function(e){return this.models[e].id},onModelImgClick:function(){this.$emit("model-img-click")}}),beforeUpdate:function(){if(this.lastModelsState===this.models){var e=this.swiperOptionsModelsLarge.speed;Math.abs(this.activeModelIndex-this.swiper.activeIndex)>=this.noAnimateSwiperSlideLimit&&(e=0),this.selectModel(this.activeModelIndex,e)}else this.swiper.activeIndex=this.activeModelIndex;this.lastModelsState=this.models},components:{LongArrowLeftSm:o.a,LongArrowRightSm:l.a}},a=(s(1490),s(2)),c=Object(a.a)(d,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"constructor__step"},[s("div",{staticClass:"constructor__model-slider"},[s("div",{directives:[{name:"swiper",rawName:"v-swiper:sliderModelsLarge",value:e.swiperOptionsModelsLarge,expression:"swiperOptionsModelsLarge",arg:"sliderModelsLarge"}],ref:"sliderModelsLarge",on:{slideChange:e.slideChangeHandler}},[s("div",{staticClass:"swiper-wrapper"},e._l(e.models,(function(t,i){return s("div",{key:i,staticClass:"constructor__model-slider__slide swiper-slide"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.showTitle,expression:"showTitle"}],staticClass:"text-x5 desktop:text-x4"},[e._v(e._s(t.name))]),e._v(" "),s("figure",[s("img",{attrs:{src:t.largeImage,alt:t.name},on:{click:function(t){return e.onModelImgClick()}}})])])})),0),e._v(" "),s("div",{staticClass:"constructor-swiper-button constructor-swiper-button-prev button-models-large-prev hinted"},[s("span",{staticClass:"hinted-text"},[e._v(e._s(e.prevCarName()))]),e._v(" "),s("LongArrowLeftSm")],1),e._v(" "),s("div",{staticClass:"constructor-swiper-button constructor-swiper-button-next button-models-large-next hinted"},[s("span",{staticClass:"hinted-text"},[e._v(e._s(e.nextCarName()))]),e._v(" "),s("LongArrowRightSm")],1)])])])}),[],!1,null,"06d24661",null);t.a=c.exports},1544:function(e,t,s){},1545:function(e,t,s){},1546:function(e,t,s){},2036:function(e,t,s){"use strict";var i=s(1544);s.n(i).a},2037:function(e,t,s){"use strict";var i=s(1545);s.n(i).a},2038:function(e,t,s){"use strict";var i=s(1546);s.n(i).a},997:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));s(6);function i(e,t,s,i){return new Promise((function(o,l){e.dispatch(s,i).then((function(e){o(e)})).catch((function(e){404===e.response.status?t({statusCode:404}):t({statusCode:500}),l()}))}))}}}]);