(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{1001:function(e,t,s){},1002:function(e,t,s){"use strict";s(1013),s(3),s(60),s(36),s(27),s(168),s(311);var i=s(161),n=s(86),r=(s(33),s(376),s(8),s(5),null);var a=null;function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=document.createElement(e);return Object.keys(t).forEach((function(e){s[e]=t[e]})),s}function l(e,t,s){return(window.getComputedStyle(e,s||null)||{display:"none"})[t]}function d(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};for(var t=e;t!==document;){if("none"===l(t,"display"))return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var c='.resize-triggers{visibility:hidden;opacity:0}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',u=0,p=null;function h(e,t){if(e.__resize_mutation_handler__||(e.__resize_mutation_handler__=f.bind(e)),!e.__resize_listeners__)if(e.__resize_listeners__=[],window.ResizeObserver){var s=e.offsetWidth,i=e.offsetHeight,n=new ResizeObserver((function(){(e.__resize_observer_triggered__||(e.__resize_observer_triggered__=!0,e.offsetWidth!==s||e.offsetHeight!==i))&&m(e)})),r=d(e),a=r.detached,h=r.rendered;e.__resize_observer_triggered__=!1===a&&!1===h,e.__resize_observer__=n,n.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){m(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(u||(p=function(e){var t=document.createElement("style");return t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),(document.querySelector("head")||document.body).appendChild(t),t}(c)),function(e){var t=l(e,"position");t&&"static"!==t||(e.style.position="relative");e.__resize_old_position__=t,e.__resize_last__={};var s=o("div",{className:"resize-triggers"}),i=o("div",{className:"resize-expand-trigger"}),n=o("div"),r=o("div",{className:"resize-contract-trigger"});i.appendChild(n),s.appendChild(i),s.appendChild(r),e.appendChild(s),e.__resize_triggers__={triggers:s,expand:i,expandChild:n,contract:r},v(e),e.addEventListener("scroll",_,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}(e),e.__resize_rendered__=d(e).rendered,window.MutationObserver){var g=new MutationObserver(e.__resize_mutation_handler__);g.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=g}e.__resize_listeners__.push(t),u++}function f(){var e=d(this),t=e.rendered,s=e.detached;t!==this.__resize_rendered__&&(!s&&this.__resize_triggers__&&(v(this),this.addEventListener("scroll",_,!0)),this.__resize_rendered__=t,m(this))}function _(){var e,t,s=this;v(this),this.__resize_raf__&&(e=this.__resize_raf__,a||(a=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}).bind(window)),a(e)),this.__resize_raf__=(t=function(){var e,t,i,n,r,a,o=(t=(e=s).__resize_last__,i=t.width,n=t.height,r=e.offsetWidth,a=e.offsetHeight,r!==i||a!==n?{width:r,height:a}:null);o&&(s.__resize_last__=o,m(s))},r||(r=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,16)}).bind(window)),r(t))}function m(e){e&&e.__resize_listeners__&&e.__resize_listeners__.forEach((function(t){t.call(e)}))}function v(e){var t=e.__resize_triggers__,s=t.expand,i=t.expandChild,n=t.contract,r=n.scrollWidth,a=n.scrollHeight,o=s.offsetWidth,l=s.offsetHeight,d=s.scrollWidth,c=s.scrollHeight;n.scrollLeft=r,n.scrollTop=a,i.style.width=o+1+"px",i.style.height=l+1+"px",s.scrollLeft=d,s.scrollTop=c}var g=["maxLines","maxHeight","ellipsis","isClamped"],b=["tag","text","autoresize"];t.a={name:"vue-clamp",props:{tag:{type:String,default:"div"},autoresize:{type:Boolean,default:!1},maxLines:Number,maxHeight:[String,Number],ellipsis:{type:String,default:"…"},expanded:Boolean},data:function(){return{offset:null,text:this.getText(),localExpanded:!!this.expanded}},computed:{clampedText:function(){return this.text.slice(0,this.offset)+this.ellipsis},isClamped:function(){return!!this.text&&this.offset!==this.text.length},realText:function(){return this.isClamped?this.clampedText:this.text},realMaxHeight:function(){if(this.localExpanded)return null;var e=this.maxHeight;return e?"number"==typeof e?"".concat(e,"px"):e:null}},watch:{expanded:function(e){this.localExpanded=e},localExpanded:function(e){e?this.clampAt(this.text.length):this.update(),this.expanded!==e&&this.$emit("update:expanded",e)}},mounted:function(){var e=this;this.init(),b.forEach((function(t){e.$watch(t,e.init)})),g.forEach((function(t){e.$watch(t,e.update)}))},updated:function(){this.text=this.getText(),this.applyChange()},beforeDestroy:function(){this.cleanUp()},methods:{init:function(){var e=this;if(this.$slots.default){if(this.offset=this.text.length,this.cleanUp(),this.autoresize){var t=function(){e.update()};h(this.$el,t),this.unregisterResizeCallback=function(){!function(e,t){if(e.detachEvent&&e.removeEventListener)return e.detachEvent("onresize",e.__resize_legacy_resize_handler__),void document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);var s=e.__resize_listeners__;s&&(s.splice(s.indexOf(t),1),s.length||(e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",_),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null),!--u&&p&&p.parentNode.removeChild(p))}(e.$el,t)}}this.update()}},update:function(){this.localExpanded||(this.applyChange(),(this.isOverflow()||this.isClamped)&&this.search())},expand:function(){this.localExpanded=!0},collapse:function(){this.localExpanded=!1},toggle:function(){this.localExpanded=!this.localExpanded},getLines:function(){return this.$refs.content.getClientRects().length},isOverflow:function(){return!(!this.maxLines&&!this.maxHeight)&&(!!(this.maxLines&&this.getLines()>this.maxLines)||!!(this.maxHeight&&this.$el.scrollHeight>this.$el.offsetHeight))},getText:function(){var e=(this.$slots.default||[]).filter((function(e){return!e.tag&&!e.isComment})),t=Object(n.a)(e,1)[0];return t?t.text:""},moveEdge:function(e){this.clampAt(this.offset+e)},clampAt:function(e){this.offset=e,this.applyChange()},applyChange:function(){this.$refs.text.textContent=this.realText},stepToFit:function(){this.fill(),this.clamp()},fill:function(){for(;(!this.isOverflow()||this.getLines()<2)&&this.offset<this.text.length;)this.moveEdge(1)},clamp:function(){for(;this.isOverflow()&&this.getLines()>1&&this.offset>0;)this.moveEdge(-1)},search:function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var i=t[0],n=void 0===i?0:i,r=t[1],a=void 0===r?this.offset:r;if(a-n<=3)this.stepToFit();else{var o=Math.floor((a+n)/2);this.clampAt(o),this.isOverflow()?this.search(n,o):this.search(o,a)}},cleanUp:function(){this.unregisterResizeCallback&&this.unregisterResizeCallback()}},render:function(e){var t=[e("span",{ref:"text",attrs:{"aria-label":this.text.trim()}},this.realText)],s={expand:this.expand,collapse:this.collapse,toggle:this.toggle,clamped:this.isClamped,expanded:this.localExpanded},n=this.$scopedSlots.before?this.$scopedSlots.before(s):this.$slots.before;n&&t.unshift.apply(t,Object(i.a)(Array.isArray(n)?n:[n]));var r=this.$scopedSlots.after?this.$scopedSlots.after(s):this.$slots.after;r&&t.push.apply(t,Object(i.a)(Array.isArray(r)?r:[r]));var a=[e("span",{style:{boxShadow:"transparent 0 0"},ref:"content"},t)];return e(this.tag,{style:{maxHeight:this.realMaxHeight,overflow:"hidden"}},a)}}},1007:function(e,t,s){},1008:function(e,t,s){},1012:function(e,t){var s=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&s.call(e,t)}},1013:function(e,t,s){var i=s(23),n=s(1014),r=s(167);i({target:"Array",proto:!0},{fill:n}),r("fill")},1014:function(e,t,s){"use strict";var i=s(71),n=s(310),r=s(64);e.exports=function(e){for(var t=i(this),s=r(t.length),a=arguments.length,o=n(a>1?arguments[1]:void 0,s),l=a>2?arguments[2]:void 0,d=void 0===l?s:n(l,s);d>o;)t[o++]=e;return t}},1016:function(e,t,s){"use strict";s(26),s(27),s(43);var i=s(32),n=(s(11),s(37));t.a={mixins:[n.a],methods:{preparePhone:function(e){return e.replace(/[^0-9]/g,"")},fillFormUserData:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$auth.loggedIn&&(void 0!==Object(i.a)(e.name)&&(e.name=this.$auth.user.name),void 0!==Object(i.a)(e.surname)&&(e.surname=this.$auth.user.surname),void 0!==Object(i.a)(e.secondName)&&this.$auth.user.second_name&&(e.secondName=this.$auth.user.second_name),void 0!==Object(i.a)(e.phone)&&(e.phone=this.formatPhone(this.$auth.user.phone)),void 0!==Object(i.a)(e.email)&&(this.$auth.user.email?e.email=this.$auth.user.email:t&&(e.email=this.$auth.user.unconfirmed_email)))}}}},1017:function(e,t,s){"use strict";s(27),s(59);var i=s(83),n=s(48),r=s(374),a={props:{isShowed:Boolean},components:{Popup:i.a,CloseIcon:n.a,IntroPopupContent:r.a}},o=(s(1072),s(2)),l=Object(o.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isShowed?s("Popup",{attrs:{disableBodyScroll:""}},[s("intro-popup-content",{on:{"toggle-info-popup":function(t){return e.$emit("toggle")}}},[s("template",{slot:"title"},[e._v("\n      СОГЛАСИЕ НА ОБРАБОТКУ ПЕРСОНАЛЬНЫХ ДАННЫХ ПОСЕТИТЕЛЕЙ САЙТА\n    ")]),e._v(" "),s("template",{slot:"description"},[s("ol",[s("li",[s("p",[e._v("\n            Пользователь, проходя регистрацию на Сайте\n            "),s("a",{attrs:{href:"https://kia.ru/"}},[e._v("https://kia.ru/")]),e._v(", принимает настоящее Согласие на\n            обработку персональных данных (далее – Согласие).\n          ")]),e._v(" "),s("p",[e._v("\n            Действуя свободно, своей волей и в своем интересе, а также подтверждая свою\n            дееспособность, Пользователь дает свое согласие Общество с ограниченной\n            ответственностью «Киа Россия и СНГ» зарегистрированному по адресу 115054, г. Москва,\n            ул. Валовая, д. 26 (далее — Оператор) на обработку своих персональных данных со\n            следующими условиями:\n          ")])]),e._v(" "),s("li",[s("p",[e._v("Данное Согласие дается на автоматизированную обработку персональных данных.")]),e._v(" "),s("p",[e._v("Согласие дается на обработку следующих моих персональных данных:")]),e._v(" "),s("ol",{staticClass:"ol_bracket"},[s("li",[e._v("Специальные категории персональных данных – не обрабатываются.")]),e._v(" "),s("li",[e._v("Биометрические персональные данные – не обрабатываются.")]),e._v(" "),s("li",[e._v("\n              Персональные данные, не являющиеся специальными или биометрическими:"),s("br"),e._v("\n              фамилия, имя, отчество; номер телефона; адрес электронной почты; пол; семейное\n              положение; дата рождения; адрес места жительства, образ жизни и поведение субъекта\n              (в том числе, в сети Интернет), сфера деятельности, место работы и должность (род\n              занятий), иные данные и информация, предоставленные и предоставляемые субъектом или\n              ставшие известными ООО «Киа Россия и СНГ» в целях, указанных в настоящем согласии.\n            ")])])]),e._v(" "),s("li",[s("p",[e._v("\n            Настоящее Согласие дается на выполнение следующих действий (операций), совершаемых с\n            использованием средств автоматизации или без использования таких средств с\n            персональными данными: сбор, запись, систематизация, накопление, хранение, уточнение\n            (обновление, изменение), извлечение, использование, передача, в том числе\n            трансграничная (распространение в случаях и в объеме, предусмотренных\n            законодательством РФ, в том числе предоставление в государственные органы и иные\n            организации), деперсонализация, блокирование, удаление, уничтожение персональных\n            данных в целях:\n          ")]),e._v(" "),s("ol",{staticClass:"ol_latin"},[s("li",[e._v("продвижения и совершенствование товаров и услуг бренда Kia;")]),e._v(" "),s("li",[e._v("\n              получения и исследования статистических данных об объемах продаж и качестве услуг\n              бренда Kia;\n            ")]),e._v(" "),s("li",[e._v("\n              изучения конъюнктуры рынка автомобилей, автомобильных запасных частей и аксессуаров;\n            ")]),e._v(" "),s("li",[e._v("\n              сбора статистики по посетителям Сайта для улучшения качества работы Сайта и его\n              содержания;\n            ")]),e._v(" "),s("li",[e._v("\n              осуществления других видов деятельности в рамках законодательства РФ с обязательным\n              выполнением требований законодательства РФ в области персональных данных.\n            ")]),e._v(" "),s("li",[e._v("\n              сбора данных по поведению на сайте kia.ru (сервисами веб-аналитики, метрическими\n              программами). Подробная информация приведена на официальном сайте ООО «Киа Россия и\n              СНГ» в разделе в разделе «Правовая информация» на странице «Файлы Cookie и анализ\n              посещения сайта»\n              "),s("a",{attrs:{href:"https://www.kia.ru/info/cookie/"}},[e._v("https://www.kia.ru/info/cookie/")])]),e._v(" "),s("p",[e._v("\n              При обработке персональных данных и информации в целях, не связанных с направлением\n              информации рекламного характера, могут использоваться e-mail рассылка (направление\n              сообщений на электронную почту), СМС-рассылка (служба коротких сообщений), почтовая\n              рассылка, телефонные звонки, любые иные средства связи, сеть Интернет. Для целей\n              направления информации рекламного характера могут использоваться только варианты\n              связи, отмеченные выше, либо на которые отдельно дано согласие.\n            ")])])]),e._v(" "),s("li",[e._v("\n          Основанием для обработки персональных данных является: ст. 24 Конституции Российской\n          Федерации; настоящее Согласие на обработку персональных данных.\n        ")]),e._v(" "),s("li",[e._v("\n          Оператор персональных данных ведет деятельность на территории Российской Федерации в\n          соответствии с законодательством Российской Федерации. Предлагаемые товары/работы/услуги\n          доступны к получению на территории Российской Федерации. Мониторинг потребительского\n          поведения субъектов, находящихся за пределами Российской Федерации, не ведется.\n        ")]),e._v(" "),s("li",[e._v("\n          Обработка персональных данных может быть прекращена по запросу субъекта персональных\n          данных. Хранение персональных данных, зафиксированных на бумажных носителях,\n          осуществляется согласно Федеральному закону №125-ФЗ «Об архивном деле в Российской\n          Федерации» и иным нормативно правовым актам в области архивного дела и архивного\n          хранения.\n        ")]),e._v(" "),s("li",[e._v("\n          Согласие может быть отозвано субъектом персональных данных или его представителем путем\n          направления письменного заявления заказным письмом с уведомлением Оператору по адресу,\n          указанному в начале данного Согласия.\n        ")]),e._v(" "),s("li",[e._v("\n          В случае отзыва субъектом персональных данных или его представителем согласия на\n          обработку персональных данных Оператор вправе продолжить обработку персональных данных\n          без согласия субъекта персональных данных при наличии оснований, указанных в пунктах 2 –\n          11 части 1 статьи 6, части 2 статьи 10 и части 2 статьи 11 Федерального закона №152-ФЗ\n          «О персональных данных» от 27.07.2006 г.\n        ")]),e._v(" "),s("li",[e._v("\n          Настоящее согласие действует с момента проставления отметки и до момента прекращения\n          обработки персональных данных, указанных в п.7 и п.8 данного Согласия.\n        ")]),e._v(" "),s("li",[e._v("\n          Политика обработки данных ООО «Киа Россия и СНГ», а также описание прав субъекта\n          персональных данных и возможности их реализации приведены на официальном сайте ООО «Киа\n          Россия и СНГ» в разделе «Правовая информация»\n          "),s("a",{attrs:{href:"https://www.kia.ru/info/"}},[e._v("https://www.kia.ru/info/")])])])])],2)],1):e._e()}),[],!1,null,"e3bcbd32",null).exports,d={props:{agreement:{type:Object,default:function(){return{}}},smallText:{type:Boolean,default:!1},onNewPage:{type:Boolean,default:!1}},data:function(){return{regExp:/(#[A-Z]+#)/gi,isPopupLicenseOpen:!1}},methods:{toggleLicensePopup:function(){this.isPopupLicenseOpen=!this.isPopupLicenseOpen},isLicense:function(e){return"#LICENSE#"===e}},computed:{agreementSplit:function(){return void 0!==this.agreement.text?this.agreement.text.split(this.regExp):[]}},components:{License:l}},c=Object(o.a)(d,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{class:["w-full",{"text-s3":e.smallText}]},[e._l(e.agreementSplit,(function(t){return[e.isLicense(t)?[e.onNewPage?s("a",{attrs:{href:"/info/pd",target:"_blank"}},[e._v("указанных здесь")]):s("a",{attrs:{href:"javascript:"},on:{click:e.toggleLicensePopup}},[e._v("указанных здесь")])]:[e._v(e._s(t))]]})),e._v(" "),s("License",{attrs:{"is-showed":e.isPopupLicenseOpen},on:{toggle:e.toggleLicensePopup}})],2)}),[],!1,null,null,null);t.a=c.exports},1022:function(e,t,s){"use strict";s(7),s(3),s(9),s(10),s(8),s(6),s(5),s(51);var i=s(21),n=s(15),r=s(18),a=s(11),o=s(96),l=s.n(o),d=s(137),c=s.n(d),u=s(98),p=s.n(u),h=s(83),f=s(107),_=s(109),m=s(112),v=s(379);function g(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}var b,y={mixins:[s(24).a],props:{error:String,dealership:null,dealershipIds:{type:Array,default:function(){return[]}},excludedDealershipIds:{type:Array,default:function(){return[]}},model:{type:Object,default:function(){}},theme:{type:Object,default:function(){}},mapId:{type:String,default:"yamap"},autoFill:{type:Boolean,default:!1},showButton:{type:Boolean,default:!0},isSmall:{type:Boolean,default:function(){return!0}},buttonShort:{type:Boolean,default:!1},showServices:{type:Boolean,default:function(){return!0}},showFilter:{type:Boolean,default:function(){return!0}},showGeoIp:{type:Boolean,default:function(){return!0}},title:{type:String,default:function(){return"Выберите дилера"}},description:{type:String,default:null},disableResult:{type:Boolean,default:function(){return!1}},value:{type:Object,default:null},carInfo:{type:Object,default:null},headerClass:{type:String,default:""},isCalculatorPage:{type:Boolean,default:!1},showLink:{type:Boolean,default:!0},isMaintenanceCalc:{type:Boolean,default:function(){return!1}},isBuyCalc:{type:Boolean,default:!1},isConfigurator:{type:Boolean,default:!1},isTradeIn:{type:Boolean,default:function(){return!1}},isUsedCars:{type:Boolean,default:function(){return!1}}},data:function(){return{dealer:null,isLoading:!1,isPopupOpen:!1,isLimitQuery:this.dealershipIds.length>=100}},created:function(){var e=this;this.clearDealerships(),this.dealership?this.setDealer(this.dealership):this.autoFill&&this.$auth.loggedIn&&(this.isLoading=!0,this.$axios(a.a.lastUserDealer()).then((function(t){0===t.data.error&&void 0!==t.data.content.dealership&&e.setDealer(t.data.content.dealership)})).finally((function(){e.isLoading=!1})))},destroyed:function(){this.clearDealerships()},computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?g(Object(s),!0).forEach((function(t){Object(n.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):g(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},Object(r.e)("geo-position",{currentCity:"city"}),{},Object(r.c)("dealerships",{cities:"getCities",dealerships:"getDealerships"}),{dealershipFiltered:function(){var e=this,t=this.dealerships;return this.excludedDealershipIds.length>0&&(t=this.dealerships.filter((function(t){return!e.excludedDealershipIdsByKey[t.id]}))),this.isLimitQuery?c()(t,(function(t){return-1!==p()(e.dealershipIds,t.id)})):t},cityFiltered:function(){if(this.isLimitQuery){var e=l()(this.dealershipFiltered,"city_id");return c()(this.cities,(function(t){return-1!==p()(e,t.id)}))}return this.cities},dealerSelected:function(){return!this.disableResult&&null!==this.dealer},hasError:function(){return!!this.error},hasButtonSlot:function(){return!!this.$slots.button},excludedDealershipIdsByKey:function(){var e={};return this.excludedDealershipIds.forEach((function(t){e[t]=t})),e}}),methods:{togglePopup:(b=Object(i.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.loadDealerships();case 3:this.isPopupOpen=!this.isPopupOpen,this.dealerSelected&&this.dataLayerPush("Dealer search","Change dealer"),!this.dealerSelected&&this.isConfigurator&&this.isPopupOpen&&this.dataLayerPush("Dealer search pop-up","Open");case 6:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)}),checkedDealer:function(e){Object.assign(this,{dealer:e,isPopupOpen:!1}),this.$emit("input",e)},loadDealerships:function(){return this.dealerships.length<=0?this.$store.dispatch("dealerships/loadAll",this.isLimitQuery?[]:this.dealershipIds):Promise.resolve()},clearDealerships:function(){this.dealershipIds.length>0&&this.$store.dispatch("dealerships/clearAll")},clearSelected:function(){this.dealer=null},setDealer:function(e){this.dealer=e,this.isPopupOpen=!1,this.$emit("input",this.dealer)}},components:{Popup:h.a,Loader:f.a,IconEdit:_.a,IconClose:m.a,DealerLocator:v.a}},x=(s(1037),s(2)),C=Object(x.a)(y,(function(){var e,t=this,s=t.$createElement,i=t._self._c||s;return i("div",[t.isLoading?i("Loader",{attrs:{inline:!0}}):t.showButton?i("div",[i("div",{class:["form-control",(e={},e["has-error"]=t.hasError,e)]},[t.dealerSelected?t._e():i("button",{class:["button button_secondary",{button_small:t.isSmall},{"mt-3":t.isMaintenanceCalc},{"button-short":t.buttonShort}],on:{click:t.togglePopup}},[i("span",{staticClass:"button__span-after"},[t._v("\n          Выбрать дилера\n        ")])]),t._v(" "),t.hasError?i("span",{class:["form-control__error"]},[t._v(t._s(t.error))]):t._e()]),t._v(" "),t.dealerSelected?i("div",{staticClass:"form-dealer text-s2i"},[i("div",{staticClass:"flex items-center text-s1 mt-3 mb-1",class:t.headerClass},[t._v("\n        Дилер\n        "),i("icon-edit",{staticClass:"color-disabled-gray cursor-pointer ml-2",on:{click:t.togglePopup}})],1),t._v(" "),i("div",[t._v(t._s(t.dealer.name))]),t._v(" "),i("div",{staticClass:"color-dark-gray"},[t._v(t._s(t.dealer.address))])]):t._e()]):t._e(),t._v(" "),t.isPopupOpen?i("popup",[i("div",{staticClass:"popup__container flex items-center justify-center"},[i("div",{staticClass:"popup__body"},[i("div",{staticClass:"popup__close",on:{click:t.togglePopup}},[i("IconClose",{staticClass:"block"})],1),t._v(" "),i("div",{staticClass:"form form_popup flex flex-col"},[i("div",{staticClass:"form__wrap flex flex-col"},[i("div",{staticClass:"form__header px-6 desktop:px-16 pt-6 desktop:pt-8 desktop:pb-4"},[i("h1",{staticClass:"text-x5 desktop:text-x4 mb-1"},[t._v(t._s(t.title))]),t._v(" "),t.description?i("div",{staticClass:"sub-header",domProps:{innerHTML:t._s(t.description)}}):t._e()]),t._v(" "),i("div",{staticClass:"form__container flex-container flex-col"},[i("DealerLocator",{attrs:{mapId:t.mapId,cities:t.cityFiltered,carInfo:t.carInfo,showServices:t.showServices,"show-filter":t.showFilter,"show-geo-ip":t.showGeoIp,"dealership-ids":t.dealershipIds,defaultCityCode:t.currentCity.code,"excluded-dealership-ids":t.excludedDealershipIds,"is-calculator-page":t.isCalculatorPage,"show-link":t.showLink,isBuyCalc:t.isBuyCalc,isConfigurator:t.isConfigurator,isTradeIn:t.isTradeIn,isUsedCars:t.isUsedCars},on:{"checked-dealer":t.checkedDealer}})],1)])])])])]):t._e()],1)}),[],!1,null,"cf648c4c",null);t.a=C.exports},1028:function(e,t,s){"use strict";var i=s(32);t.a={methods:{getLocalizedName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";if("object"!==Object(i.a)(e)||null===e)return"";var n=t+"_"+s;return e[n]?e[n]:e[t]||""}}}},1030:function(e,t,s){"use strict";var i=s(1040),n=s.n(i),r=s(1041),a=s.n(r);t.a={methods:{prepareValidateErrors:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a()(e,(function(e,s){return n()(t,s)?t[s]:s}))}}}},1037:function(e,t,s){"use strict";var i=s(1001);s.n(i).a},1040:function(e,t,s){var i=s(1012),n=s(536);e.exports=function(e,t){return null!=e&&n(e,t,i)}},1041:function(e,t,s){var i=s(164),n=s(309),r=s(97);e.exports=function(e,t){var s={};return t=r(t,3),n(e,(function(e,n,r){i(s,t(e,n,r),e)})),s}},1050:function(e,t,s){"use strict";var i={props:{unlockDate:{type:String,default:"manual"},banType:{type:String,default:"short"}}},n=s(2),r=Object(n.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form__response form__response_full"},[[s("div",{staticClass:"text-x4 mb-4"},[e._v("Ошибка")]),e._v(" "),s("div",{staticClass:"text-s2i mb-1"},["long"===e.banType?[e._v("\n        Вы больше не можете отправить заявку, потому что с вашего IP‑адреса с необычной\n        частотой поступают запросы. Если это произошло по ошибке, пожалуйста, обратитесь в службу\n        поддержки для разблокировки."),s("br")]:[e._v("\n        Превышен дневной лимит на отправку заявок. Новую заявку можно будет отправить через\n        сутки."),s("br")],e._v(" "),"manual"!==e.unlockDate?[e._v("\n        Дата и время разблокировки: "+e._s(e.unlockDate)+"\n      ")]:e._e()],2),e._v(" "),s("div",{staticClass:"form__footer__buttons flex flex-wrap"},[s("div",{staticClass:"form__footer__button"},[s("nuxt-link",{tag:"NavLink",staticClass:"button button_primary",attrs:{to:"/"}},[e._v("На главную ")])],1)])]],2)}),[],!1,null,null,null);t.a=r.exports},1069:function(e,t,s){"use strict";s(7),s(3),s(9),s(10),s(8),s(5);var i=s(15),n=s(18),r=s(62),a=s(1002);function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}var l={props:{customAside:{type:Boolean,default:!1}},data:function(){return{atTop:!0,isInited:!0,isOpened:!1,isResultFixed:!1,isResultScrolled:!1}},computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){Object(i.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},Object(n.e)("ui",["header"]),{hasOffset:function(){return!(!this.header.isFixedHeaderVisible&&!this.isInited)}}),mounted:function(){window.addEventListener("load",this.handleScrollResult),window.addEventListener("resize",this.handleScrollResult),window.addEventListener("scroll",this.handleScrollResult)},beforeDestroy:function(){window.removeEventListener("load",this.handleScrollResult),window.removeEventListener("resize",this.handleScrollResult),window.removeEventListener("scroll",this.handleScrollResult)},methods:{handleTouchMove:function(e){e.preventDefault()},handleScrollResult:function(){var e=window.scrollY,t=Math.round(window.innerHeight),s=Math.round(document.getElementsByClassName("page-wrapper__footer")[0].offsetTop);e<60?this.isInited=!this.header.isFixedHeaderVisible:(this.atTop=this.isInited,this.isInited=!1);var i=Math.round(this.$refs.result.offsetTop);this.isResultFixed=e>i,this.isResultScrolled=e+t>s+1},toggleResult:function(){this.isOpened=!this.isOpened,this.isOpened?Object(r.disableBodyScroll)(this.$refs.resultContent):Object(r.enableBodyScroll)(this.$refs.resultContent)}},components:{VClamp:a.a}},d=(s(1071),s(2)),c=Object(d.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("aside",{ref:"result",class:["form-aside",e.isInited?"absolute":"fixed",{"is-opened":e.isOpened},{"at-top":e.isInited||e.atTop},{"has-offset":e.hasOffset},{"is-fixed":e.isResultFixed},{"is-scrolled":e.isResultScrolled},{"is-custom":e.customAside}]},[s("div",{directives:[{name:"touch",rawName:"v-touch:tap",value:e.toggleResult,expression:"toggleResult",arg:"tap"},{name:"touch",rawName:"v-touch:swipe.bottom.top",value:e.toggleResult,expression:"toggleResult",arg:"swipe",modifiers:{bottom:!0,top:!0}}],staticClass:"form-aside__header flex justify-between"},[s("div",{staticClass:"form-aside__header__title text-s2-b tablet:text-x5"},[s("v-clamp",{attrs:{autoresize:"","max-lines":1,ellipsis:"..."}},[e._t("title")],2)],1)]),e._v(" "),s("div",{staticClass:"form-aside__body"},[s("div",{ref:"resultContent",staticClass:"form-aside__content"},[e._t("body")],2),e._v(" "),s("div",{directives:[{name:"touch",rawName:"v-touch:tap",value:e.toggleResult,expression:"toggleResult",arg:"tap"},{name:"touch",rawName:"v-touch:swipe.bottom.top",value:e.toggleResult,expression:"toggleResult",arg:"swipe",modifiers:{bottom:!0,top:!0}}],staticClass:"form-aside__toggle"})])])}),[],!1,null,null,null);t.a=c.exports},1071:function(e,t,s){"use strict";var i=s(1007);s.n(i).a},1072:function(e,t,s){"use strict";var i=s(1008);s.n(i).a},2011:function(e,t,s){"use strict";s(26);var i=s(317),n=s(551),r=s(532),a=(s(7),s(3),s(84),s(9),s(10),s(8),s(111),s(5),s(15)),o=s(0),l=s(533),d=s(1030),c=s(165),u=s(24),p=s(1069),h=s(31),f=s(37),_=s(1050),m=s(109),v=s(1022),g=s(1028),b=s(1017),y=s(1016),x=s(55),C=s.n(x),w=(s(14),s(76)),O=s(18);function k(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function S(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?k(Object(s),!0).forEach((function(t){Object(a.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):k(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var z={mixins:[f.a,h.a,d.a,u.a,g.a,y.a],props:{callTypes:{type:Array,default:function(){return[]}},code:{type:String,default:""},hasAside:{type:Boolean,default:!0},model:{type:Object,default:function(){return{}}},agreement:{type:Object,default:function(){return{}}},source:String,selectedCallTypeCode:String},data:function(){return{specials:["remote-service"],selectedCode:this.selectedCallTypeCode,form:{name:null,phone:null,agree:null,type:null,email:null,dealer:null,surname:null,message:null},resize:"300x200",isSended:!1,lastLocation:!1,isBanned:!1,unlockDate:null,banType:null}},created:function(){if(this.selectedCallTypeCode){var e=C()(this.callTypes,{code:this.selectedCallTypeCode});e&&(this.form.type=e)}this.$route.params&&this.$route.params.dealer&&(this.form.dealer=this.$route.params.dealer),this.fillFormUserData(this.form)},mounted:function(){this.loadAllCities(),this.specials.includes(this.$route.params.code)&&(this.selectedCode="Service"),this.gtagEventByPath(this.model.name||"open","open")},methods:S({},Object(O.b)("geo-position",["loadAllCities"]),{onSubmit:function(){var e=this,t={},s=new FormData;s.append("source",this.source),s.append("name",this.form.name),s.append("agree",+this.form.agree),s.append("comment",this.form.message),s.append("last_name",this.form.surname),s.append("agreement_id",this.agreement.id),s.append("phone",this.preparePhone(this.form.phone)),void 0!==this.model.external_id&&s.append("model_code",this.model.external_id),this.form.type&&(s.append("type_id",this.form.type.id),t["Question Type"]=this.getLocalizedName(this.form.type)),s.append("dealership_id",this.form.dealer.id),t.Dealership=this.getLocalizedName(this.form.dealer),this.model.name?this.sendDataLayerAnalyticsModel():this.sendDataLayerAnalyticsCallback(),this.$axios(o.a.createCallbackRequest(s)).then((function(t){var s=t.data;s.content.unlock_date&&(e.unlockDate=s.content.unlock_date,e.banType=s.content.ban_type,e.isBanned=!0,window.scrollTo(0,0)),s.content.success&&(e.isSended=!0,window.scrollTo(0,0))})).catch((function(t){t instanceof c.a&&e.$refs.form.setErrors(e.prepareValidateErrors(t.data,{comment:"message",last_name:"surname",type_id:"type",dealership_id:"dealer"}))}))},sendDataLayerAnalyticsModel:function(){var e={vehicleNameplate:this.model.name,dealershipId:this.form.dealer.code,dealershipName:this.form.dealer.name_en,userLocation:this.city.name_en};this.$auth.user&&(e.kiaCustomerId=this.$auth.user.id),this.dataLayerPush("Lead","Model callback","Lead submit",e)},sendDataLayerAnalyticsCallback:function(){var e={dealershipId:this.form.dealer.code,dealershipName:this.form.dealer.name_en,questionType:this.form.type.name_en,userLocation:this.city.name_en};this.$auth.user&&(e.kiaCustomerId=this.$auth.user.id),this.dataLayerPush("Lead","Callback","Lead submit",e)}}),components:{NavLink:l.default,IconEdit:m.a,LeadBanned:_.a,AsideBlock:p.a,DealerChoice:v.a,LicenseButton:b.a,ValidationProvider:w.b,ValidationObserver:w.a},computed:S({},Object(O.e)("geo-position",["city"]),{selectedCallType:function(){var e=this.selectedCode;return this.callTypes.filter((function(t){return t.code===e})).pop()}})},j=s(2),L=Object(j.a)(z,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["form form_asided",{"is-simple":!e.hasAside}]},[s("g-padding",[s("g-container",[s("div",{staticClass:"form__wrap flex"},[e.hasAside?s("AsideBlock",[s("template",{slot:"title"},[e._v("Выбран "+e._s(e.model.name)+"\n          ")]),e._v(" "),s("template",{slot:"body"},[s("div",{staticClass:"text-s1 desktop1440:text-x5"},[e._v("\n              "+e._s(e.model.name)+"\n            ")]),e._v(" "),s("figure",[s("img",{attrs:{src:e.getResizeImagePath(e.model.image_side_view,e.resize),alt:""}})]),e._v(" "),s("div",{staticClass:"form-aside__section"},[s("dl",[s("dt",[e._v("Стоимость авто")]),e._v(" "),s("dd",[s("div",{staticClass:"text-s1"},[e._v("от "+e._s(e.formatMoney(e.model.min_price)))])])])])])],2):e._e(),e._v(" "),s("div",{staticClass:"form__body"},[s("div",{staticClass:"form__container"},[e.isSended?s("div",[s("div",{staticClass:"text-x4 mb-4"},[e._v("Заявка успешно отправлена!")]),e._v(" "),s("p",[e._v("\n                Сотрудник дилерского центра Kia свяжется с Вами в ближайшее время.\n              ")]),e._v(" "),s("div",{staticClass:"form__footer__buttons flex flex-wrap"},[s("div",{staticClass:"form__footer__button"},[s("nuxt-link",{tag:"NavLink",staticClass:"button button_primary",attrs:{to:"/"}},[e._v("На главную\n                  ")])],1)])]):e._e(),e._v(" "),e.isBanned?s("LeadBanned",{attrs:{unlockDate:e.unlockDate,banType:e.banType}}):e._e(),e._v(" "),e.isSended||e.isBanned?e._e():s("div",{staticClass:"text-s1"},[e._v("Заказать звонок дилера")]),e._v(" "),e.isSended||e.isBanned?e._e():s("div",[s("p",{staticStyle:{"font-weight":"100"}},[e._v("\n                Оставьте контакты и уточните запрос. Выбранный дилер свяжется с Вами.\n              ")])]),e._v(" "),e.isSended||e.isBanned?e._e():s("ValidationObserver",{ref:"form",scopedSlots:e._u([{key:"default",fn:function(t){var i=t.handleSubmit;return[s("form",{on:{submit:function(t){return t.preventDefault(),i(e.onSubmit)}}},[s("fieldset",{staticClass:"is-full is-odd"},[s("ul",[s("li",[s("ValidationProvider",{attrs:{vid:"name",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[s("g-form-control",{attrs:{type:"text",label:"Имя ",error:i[0]},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})]}}],null,!0)})],1),e._v(" "),s("li",[s("ValidationProvider",{attrs:{vid:"phone",rules:"required|phone"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[s("g-form-control",{directives:[{name:"mask",rawName:"v-mask",value:"+7 (###) ###-##-##",expression:"'+7 (###) ###-##-##'"}],attrs:{type:"text",label:"Телефон ",placeholder:"+7 (___) ___-__-__",error:i[0]},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})]}}],null,!0)})],1),e._v(" "),s("li",[s("div",{staticClass:"mt-8"},[e._v("Тип вопроса")]),e._v(" "),s("ValidationProvider",{attrs:{vid:"type"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[s("g-select",{staticClass:"multiselect_small mt-3",attrs:{searchable:!1,options:e.callTypes,error:i[0],selected:e.selectedCallType,placeholder:"Выберите тип вопроса"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})]}}],null,!0)})],1),e._v(" "),s("li",[s("ValidationProvider",{attrs:{vid:"dealer",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[null===e.form.dealer?s("div",{staticClass:"text-s1 mt-8 mb-4"},[e._v("Дилер")]):e._e(),e._v(" "),s("DealerChoice",{attrs:{dealership:e.form.dealer,autoFill:!0,model:e.model,error:i[0]},model:{value:e.form.dealer,callback:function(t){e.$set(e.form,"dealer",t)},expression:"form.dealer"}})]}}],null,!0)})],1),e._v(" "),s("li",[s("ValidationProvider",{attrs:{vid:"message"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[s("g-form-control",{staticClass:"mt-6",attrs:{type:"textarea",as:"textarea","rows-count":5,error:i[0],placeholder:"Ваш комментарий или вопрос (необязательно)"},model:{value:e.form.message,callback:function(t){e.$set(e.form,"message",t)},expression:"form.message"}})]}}],null,!0)})],1)])]),e._v(" "),s("div",{staticClass:"form-agree"},[s("ValidationProvider",{attrs:{vid:"agree",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[s("g-form-control",{attrs:{type:"checkbox",id:"agree",name:"agree",error:i[0],"has-label":!1},model:{value:e.form.agree,callback:function(t){e.$set(e.form,"agree",t)},expression:"form.agree"}},[s("template",{slot:"label"},[s("LicenseButton",{attrs:{agreement:e.agreement}})],1)],2)]}}],null,!0)})],1),e._v(" "),s("div",{staticClass:"form-button"},[s("button",{staticClass:"button button_primary",attrs:{type:"submit"}},[s("span",{staticClass:"button__span-after"},[e._v("\n                      Отправить\n                    ")])])])])]}}],null,!1,3797610624)})],1)])],1)])],1)],1)}),[],!1,null,null,null).exports,P={props:{model:{type:Object,default:function(){return{}}},callTypes:{type:Array,default:function(){return[]}},hasAside:Boolean,agreement:{type:Object,default:function(){return{}}},selectedCallTypeCode:String},computed:{breadcrumbItems:function(){var e=[];return this.model.code&&(e=[{name:"Модели",href:{name:"models"}},{name:this.model.name,href:{name:"models-code-desc",params:{code:this.model.code}}}]),e.push({name:"Обратный звонок"}),e}},components:{Callback:i.default,FindDealer:n.default,Breadcrumbs:r.default,FormCallbackOrder:L}},E=Object(j.a)(P,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pt-12 desktop1440:pt-16"},[s("g-padding",{staticClass:"pt-0 desktop:pt-4"},[s("g-container",{staticClass:"flex justify-between"},[s("Breadcrumbs",{attrs:{items:e.breadcrumbItems}})],1)],1),e._v(" "),s("g-padding",{staticClass:"py-6 desktop:pb-8"},[s("g-container",[s("h1",{staticClass:"text-x5 tablet:text-x4 desktop1440:text-x3 pt-10 desktop:pt-0"},[e._v("\n        Обратный звонок\n      ")])])],1),e._v(" "),s("FormCallbackOrder",{attrs:{source:"callback",model:e.model,"has-aside":e.hasAside,agreement:e.agreement,"call-types":e.callTypes,selectedCallTypeCode:e.selectedCallTypeCode}})],1)}),[],!1,null,null,null);t.a=E.exports},997:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));s(6);function i(e,t,s,i){return new Promise((function(n,r){e.dispatch(s,i).then((function(e){n(e)})).catch((function(e){404===e.response.status?t({statusCode:404}):t({statusCode:500}),r()}))}))}}}]);